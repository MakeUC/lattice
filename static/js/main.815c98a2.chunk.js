(this.webpackJsonplattice=this.webpackJsonplattice||[]).push([[0],{102:function(e,t,a){},140:function(e,t,a){e.exports=a(176)},167:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){},176:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),o=a.n(c),i=a(3),l=a.n(i),s=a(7),u=a(8),m=a(20),p=a.n(m),f="https://makeuc-registration-dev.herokuapp.com",d="".concat(f,"/auth"),h={getRegistrantEmail:e=>Object(s.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p()({url:"".concat(d,"/email/").concat(e),method:"GET"});case 3:return a=t.sent,t.abrupt("return",a.data);case 7:throw t.prev=7,t.t0=t.catch(0),new Error(t.t0.response.data.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))(),register:(e,t)=>Object(s.a)(l.a.mark((function a(){var n;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p()({url:"".concat(d,"/register"),method:"POST",data:{registrantId:e,password:t}});case 3:return n=a.sent,a.abrupt("return",n.data);case 7:throw a.prev=7,a.t0=a.catch(0),new Error(a.t0.response.data.message);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))(),login:(e,t)=>Object(s.a)(l.a.mark((function a(){var n,r;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p()({url:"".concat(d,"/login"),method:"POST",data:{email:e,password:t}});case 3:return n=a.sent,a.abrupt("return",n.data);case 7:throw a.prev=7,a.t0=a.catch(0),new Error((null===(r=a.t0.response)||void 0===r?void 0:r.data.message)||"Cannot reach server, please try again later");case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},v="".concat(f,"/notification"),b=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),a=atob(t),n=new Uint8Array(a.length),r=0;r<a.length;++r)n[r]=a.charCodeAt(r);return n},g=function(){var e=Object(s.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.serviceWorker.ready;case 2:return t=e.sent,e.next=5,t.pushManager.getSubscription();case 5:if(!e.sent){e.next=8;break}throw new Error("Push subscription already exists");case 8:return a=b("BBZjBy7vm7QXjZGm8FefmDDFahC2hZOTNMGeJTH1tO1ZT4Rji6wMSBEKzxg8HML4PozPQYRF1ga8EqLFGFDCl0E"),n={applicationServerKey:a,userVisibleOnly:!0},e.abrupt("return",t.pushManager.subscribe(n));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(s.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.serviceWorker.ready;case 2:return t=e.sent,e.next=5,t.pushManager.getSubscription();case 5:if(a=e.sent){e.next=8;break}throw new Error("Push subscription does not exist");case 8:return e.abrupt("return",a.unsubscribe());case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k={requestPermission:()=>window.Notification.requestPermission(),subscribe:e=>Object(s.a)(l.a.mark((function t(){var a,n,r,c,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.token,t.prev=1,t.next=4,g();case 4:return n=t.sent,t.next=7,p()({url:"".concat(v,"/subscribe"),method:"POST",data:n,headers:{Authorization:"Bearer ".concat(a)}});case 7:return r=t.sent,t.abrupt("return",r.data);case 11:throw t.prev=11,t.t0=t.catch(1),new Error((null===(c=t.t0.response)||void 0===c||null===(o=c.data)||void 0===o?void 0:o.message)||t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})))(),unsubscribe:e=>Object(s.a)(l.a.mark((function t(){var a,n,r,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.token,n=e.id,t.prev=1,t.next=4,E();case 4:return t.next=6,p()({url:"".concat(v,"/subscribe/").concat(n),method:"DELETE",headers:{Authorization:"Bearer ".concat(a)}});case 6:return t.abrupt("return");case 9:throw t.prev=9,t.t0=t.catch(1),new Error((null===(r=t.t0.response)||void 0===r||null===(c=r.data)||void 0===c?void 0:c.message)||t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},w=Object(n.createContext)({token:"",email:"",getRegistrantEmail(){},register(){},login(){},logout(){}});function y(e){var t=e.children,a=Object(n.useState)(""),c=Object(u.a)(a,2),o=c[0],i=c[1];Object(n.useEffect)((function(){var e=localStorage.getItem("lattice-token");i(e)}),[]),Object(n.useEffect)((function(){Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o){e.next=3;break}return e.abrupt("return");case 3:if(!localStorage.getItem("push-subscription-id")){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,k.subscribe({token:o});case 8:t=e.sent,localStorage.setItem("push-subscription-id",t.id),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()}),[o]);var m=function(){var e=Object(s.a)(l.a.mark((function e(t,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.register(t,a);case 2:n=e.sent,localStorage.setItem("lattice-token",n),i(n);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),p=function(){var e=Object(s.a)(l.a.mark((function e(t,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.login(t,a);case 2:n=e.sent,localStorage.setItem("lattice-token",n),i(n);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),f={token:o,getRegistrantEmail:function(e){return h.getRegistrantEmail(e)},register:m,login:p,logout:function(){var e=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,localStorage.removeItem("lattice-token"),i(null),t=localStorage.getItem("push-subscription-id"),e.next=6,k.unsubscribe({token:o,id:t});case 6:localStorage.removeItem("push-subscription-id"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()};return r.a.createElement(w.Provider,{value:f},t)}var x=function(){return Object(n.useContext)(w)},O="".concat(f,"/profile"),j={getProfiles:e=>Object(s.a)(l.a.mark((function t(){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.token,t.prev=1,t.next=4,p()({url:"".concat(O,"/list"),method:"GET",headers:{Authorization:"Bearer ".concat(a)}});case 4:return n=t.sent,t.abrupt("return",n.data);case 8:throw t.prev=8,t.t0=t.catch(1),new Error(t.t0.response.data.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))(),getProfile:e=>Object(s.a)(l.a.mark((function t(){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.token,t.prev=1,t.next=4,p()({url:"".concat(O,"/"),method:"GET",headers:{Authorization:"Bearer ".concat(a)}});case 4:return n=t.sent,t.abrupt("return",n.data);case 8:throw t.prev=8,t.t0=t.catch(1),new Error(t.t0.response.data.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))(),startProfile:e=>Object(s.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.token,t.prev=1,t.next=4,p()({url:"".concat(O,"/start"),method:"POST",headers:{Authorization:"Bearer ".concat(a)}});case 4:return t.abrupt("return");case 7:throw t.prev=7,t.t0=t.catch(1),new Error(t.t0.response.data.message);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))(),updateProfile:e=>Object(s.a)(l.a.mark((function t(){var a,n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.token,n=e.profile,t.prev=1,t.next=4,p()({url:"".concat(O,"/"),method:"PUT",data:n,headers:{Authorization:"Bearer ".concat(a)}});case 4:return r=t.sent,t.abrupt("return",r.data);case 8:throw t.prev=8,t.t0=t.catch(1),new Error(t.t0.response.data.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))(),setVisible:e=>Object(s.a)(l.a.mark((function t(){var a,n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.token,n=e.visible,t.prev=1,t.next=4,p()({url:"".concat(O,"/visible"),method:"PUT",data:{visible:n},headers:{Authorization:"Bearer ".concat(a)}});case 4:return r=t.sent,t.abrupt("return",r.data);case 8:throw t.prev=8,t.t0=t.catch(1),new Error(t.t0.response.data.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))(),getSkills:e=>Object(s.a)(l.a.mark((function t(){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.token,t.prev=1,t.next=4,p()({url:"".concat(O,"/skills"),method:"GET",headers:{Authorization:"Bearer ".concat(a)}});case 4:return n=t.sent,t.abrupt("return",n.data);case 8:throw t.prev=8,t.t0=t.catch(1),new Error(t.t0.response.data.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))(),completeTour:e=>Object(s.a)(l.a.mark((function t(){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.token,n=e.tour,t.prev=1,t.next=4,p()({url:"".concat(O,"/tour/").concat(n),method:"POST",headers:{Authorization:"Bearer ".concat(a)}});case 4:return t.abrupt("return");case 7:throw t.prev=7,t.t0=t.catch(1),new Error(t.t0.response.data.message);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))()},N=Object(n.createContext)({isLoading:!0,failedToLoad:null,profile:{},getProfile(){},updateProfile(){},toggleVisibility(){},completeTour(){}});function S(e){var t=e.children,a=x().token,c=Object(n.useState)(!0),o=Object(u.a)(c,2),i=o[0],m=o[1],p=Object(n.useState)(null),f=Object(u.a)(p,2),d=f[0],h=f[1],v=Object(n.useState)({}),b=Object(u.a)(v,2),g=b[0],E=b[1],k=Object(n.useCallback)(Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),h(null),e.next=5,j.getProfile({token:a});case 5:t=e.sent,E(t),t.started||j.startProfile({token:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),h(e.t0);case 13:return e.prev=13,m(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])}))),[a]);Object(n.useEffect)((function(){a&&k()}),[a,k]);var w=function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.updateProfile({token:a,profile:t});case 2:n=e.sent,E(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.setVisible({token:a,visible:!g.visible});case 2:t=e.sent,E(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(s.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.completeTour({token:a,tour:t});case 3:return e.next=5,k();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),S={isLoading:i,failedToLoad:d,profile:g,getProfile:k,updateProfile:w,toggleVisibility:y,completeTour:O};return r.a.createElement(N.Provider,{value:S},t)}var P=function(){return Object(n.useContext)(N)},C=a(18),T="".concat(f,"/match"),L={swipe:e=>Object(s.a)(l.a.mark((function t(){var a,n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.token,n=e.match,t.prev=1,t.next=4,p()({url:"".concat(T),method:"POST",data:n,headers:{Authorization:"Bearer ".concat(a)}});case 4:return r=t.sent,t.abrupt("return",r.data);case 8:throw t.prev=8,t.t0=t.catch(1),new Error(t.t0.response.data.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))(),reset:e=>Object(s.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.token,t.prev=1,t.next=4,p()({url:"".concat(T),method:"DELETE",headers:{Authorization:"Bearer ".concat(a)}});case 4:return t.abrupt("return");case 7:throw t.prev=7,t.t0=t.catch(1),new Error(t.t0.response.data.message);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))()},I=Object(n.createContext)({isLoading:!0,failedToLoad:null,skills:[],profiles:[],getSkills(){},getProfiles(){}});function F(e){var t=e.children,a=x().token,c=P().profile,o=Object(n.useState)(!1),i=Object(u.a)(o,2),m=i[0],p=i[1],f=Object(n.useState)(null),d=Object(u.a)(f,2),h=d[0],v=d[1],b=Object(n.useState)([]),g=Object(u.a)(b,2),E=g[0],k=g[1],w=Object(n.useState)([]),y=Object(u.a)(w,2),O=y[0],N=y[1],S=Object(n.useCallback)(Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.getSkills({token:a});case 3:t=e.sent,k(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[a]),C=Object(n.useCallback)(Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===c||void 0===c?void 0:c.visible){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,p(!0),v(null),e.next=7,j.getProfiles({token:a});case 7:t=e.sent,N(t),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),v(e.t0);case 14:return e.prev=14,p(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])}))),[c.visible,a]);Object(n.useEffect)((function(){a&&S()}),[a,S]),Object(n.useEffect)((function(){a&&C()}),[a,C]);var T={isLoading:m,failedToLoad:h,skills:E,profiles:O,getSkills:S,getProfiles:C};return r.a.createElement(I.Provider,{value:T},t)}var R=function(){return Object(n.useContext)(I)},A=Object(n.createContext)({swipeProfile(){},reset(){}});function W(e){var t=e.children,a=x().token,c=R().getProfiles,o=Object(n.useState)([]),i=Object(u.a)(o,2),m=i[0],p=i[1],f={swipeProfile:function(){var e=Object(s.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m.includes(t.id)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,L.swipe({token:a,match:{to:t.id,match:n}});case 4:p((function(e){return[].concat(Object(C.a)(e),[t.id])}));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),reset:function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.reset({token:a});case 2:return p([]),e.next=5,c();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()};return r.a.createElement(A.Provider,{value:f},t)}var z=function(){return Object(n.useContext)(A)},B=a(21),q="".concat(f,"/notification"),M={getNotifications:e=>Object(s.a)(l.a.mark((function t(){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.token,t.prev=1,t.next=4,p()({url:"".concat(q),method:"GET",headers:{Authorization:"Bearer ".concat(a)}});case 4:return n=t.sent,t.abrupt("return",n.data);case 8:throw t.prev=8,t.t0=t.catch(1),new Error(t.t0.response.data.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))(),readNotifications:e=>Object(s.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.token,t.prev=1,t.next=4,p()({url:"".concat(q,"/read"),method:"POST",headers:{Authorization:"Bearer ".concat(a)}});case 4:return t.abrupt("return");case 7:throw t.prev=7,t.t0=t.catch(1),new Error(t.t0.response.data.message);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))()},U=Object(n.createContext)({isLoading:!1,failedToLoad:null,notifications:[],pushPermission:"default",getNotifications(){},readNotifications(){},requestNotificationPermission(){}});function Y(e){var t=e.children,a=x().token,c=Object(n.useState)("default"),o=Object(u.a)(c,2),i=o[0],m=o[1],p=Object(n.useState)(!0),f=Object(u.a)(p,2),d=f[0],h=f[1],v=Object(n.useState)(null),b=Object(u.a)(v,2),g=b[0],E=b[1],w=Object(n.useState)([]),y=Object(u.a)(w,2),O=y[0],j=y[1],N=Object(n.useCallback)(Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,h(!0),E(null),e.next=7,M.getNotifications({token:a});case 7:t=e.sent,j(t),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),E(e.t0);case 14:return e.prev=14,h(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])}))),[a]);Object(n.useEffect)((function(){N()}),[N]);var S=function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:if(O.filter((function(e){return!e.notification.read})).length){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,M.readNotifications({token:a});case 8:j((function(e){return e.map((function(e){return Object(B.a)(Object(B.a)({},e),{},{read:!0})}))})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,k.requestPermission();case 4:t=e.sent,m(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){P()}),[a]);var C={isLoading:d,failedToLoad:g,notifications:O,pushPermission:i,getNotifications:N,readNotifications:S,requestNotificationPermission:P};return r.a.createElement(U.Provider,{value:C},t)}var D=function(){return Object(n.useContext)(U)},H=a(122),V=a(212),G=Object(H.a)({palette:{primary:{main:"rgb(129,116,255)"}}});function J(e){var t=e.children;return r.a.createElement(V.a,{theme:G},t)}var Z=function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,null,r.a.createElement(S,null,r.a.createElement(F,null,r.a.createElement(W,null,r.a.createElement(Y,null,r.a.createElement(J,null,t)))))))},K=a(22),Q=a(19),X=a(213),_=a(229),$=a(217),ee=a(41),te=a.n(ee),ae=a(56),ne=a.n(ae),re=a(215),ce=a(230),oe=a(219),ie=(a(102),Object(X.a)((function(e){return{margin:{margin:e.spacing(1)}}}))),le=function(){var e=ie(),t=x(),a=t.token,c=t.getRegistrantEmail,o=t.register,i=Object(Q.g)().registrantId,m=Object(n.useState)(!0),p=Object(u.a)(m,2),f=p[0],d=p[1],h=Object(n.useState)(null),v=Object(u.a)(h,2),b=v[0],g=v[1],E=Object(n.useState)(""),k=Object(u.a)(E,2),w=k[0],y=k[1],O=Object(n.useState)({}),j=Object(u.a)(O,2),N=j[0],S=j[1],P=Object(n.useState)(!1),C=Object(u.a)(P,2),T=C[0],L=C[1],I=Object(n.useState)(null),F=Object(u.a)(I,2),R=F[0],A=F[1],W=Object(n.useState)(""),z=Object(u.a)(W,2),B=z[0],q=z[1];Object(n.useEffect)((function(){Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(i);case 3:t=e.sent,y(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),g(e.t0);case 10:return e.prev=10,d(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})))()}),[c,i]),Object(n.useEffect)((function(){a&&q("/")}),[a]);var M=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),L(!0),S({}),a=t.target.email.value,n=t.target.password.value,r=t.target.confirmPassword.value,a){e.next=9;break}return e.abrupt("return",S({email:"Invalid email, please check the link provided"}));case 9:if(n){e.next=11;break}return e.abrupt("return",S({password:"Please provide a password"}));case 11:if(!(n.length<6)){e.next=13;break}return e.abrupt("return",S({password:"Password must be atleast 6 characters long"}));case 13:if(n===r){e.next=15;break}return e.abrupt("return",S({confirmPassword:"Passwords don't match"}));case 15:return e.next=17,o(i,n);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),A(e.t0);case 22:return e.prev=22,L(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[0,19,22,25]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(re.a,{className:e.root},r.a.createElement("form",{onSubmit:M},r.a.createElement("div",{className:"bg-white mv3 mv5-ns pa3 ph5-ns br3"},f?r.a.createElement("h1",{className:"title"},"Loading..."):b?r.a.createElement(ce.a,{color:"error.main",textAlign:"center"},r.a.createElement("h3",null,b.message)):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"title"},"Create Account"),r.a.createElement(ce.a,{color:"error.main",textAlign:"center"},R&&R.message),r.a.createElement("div",{className:e.margin+" font-opensans"},r.a.createElement($.a,{container:!0,spacing:4,className:"lattice-form-band",alignItems:"flex-end"},r.a.createElement($.a,{className:"lattice-icon",item:!0},r.a.createElement(te.a,null)),r.a.createElement("p",{className:"lattice-form-label mb0 font-gray"},"Email Address"),r.a.createElement($.a,{item:!0,className:"lattice-form-input"},r.a.createElement(_.a,{name:"email",type:"email",id:"input-with-icon-grid",fullWidth:!0,variant:"outlined",value:w,disabled:!0}),N.email&&r.a.createElement(ce.a,{color:"error.main"},N.email))),r.a.createElement($.a,{container:!0,spacing:4,className:"lattice-form-band",alignItems:"flex-end"},r.a.createElement($.a,{item:!0,className:"lattice-icon"},r.a.createElement(ne.a,null)),r.a.createElement("p",{className:"lattice-form-label mb0 font-gray"},"Password"),r.a.createElement($.a,{item:!0,className:"lattice-form-input"},r.a.createElement(_.a,{name:"password",type:"password",id:"input-with-icon-grid",fullWidth:!0,variant:"outlined"}),N.password&&r.a.createElement(ce.a,{color:"error.main"},N.password))),r.a.createElement($.a,{container:!0,spacing:4,className:"lattice-form-band",alignItems:"flex-end"},r.a.createElement($.a,{item:!0,className:"lattice-icon"},r.a.createElement(ne.a,null)),r.a.createElement("p",{className:"lattice-form-label mb0 font-gray"},"Confirm Password"),r.a.createElement($.a,{item:!0,className:"lattice-form-input"},r.a.createElement(_.a,{name:"confirmPassword",type:"password",id:"input-with-icon-grid",fullWidth:!0,variant:"outlined"}),N.confirmPassword&&r.a.createElement(ce.a,{color:"error.main"},N.confirmPassword))),r.a.createElement("input",{type:"hidden",name:"registrantId",value:i}),r.a.createElement(oe.a,{type:"submit",variant:"contained",className:"center",color:"primary",disabled:T},"Sign Up"),r.a.createElement(ce.a,{className:"mt4"},"Already registered? Log in ",r.a.createElement(K.b,{to:"/auth/login"},"here")))))),B&&r.a.createElement(Q.a,{to:B}))},se=(a(167),function(e){var t=e.size,a=void 0===t?"100px":t;return r.a.createElement("div",{id:"spinner-container"},r.a.createElement("img",{id:"spinner",src:"/lattice/logo.png",alt:"Lattice logo",style:{width:a,height:a}}))}),ue=Object(X.a)((function(e){return{margin:{margin:e.spacing(1)}}}));function me(){var e=ue(),t=x(),a=t.token,c=t.login,o=Object(n.useState)({}),i=Object(u.a)(o,2),m=i[0],p=i[1],f=Object(n.useState)(!1),d=Object(u.a)(f,2),h=d[0],v=d[1],b=Object(n.useState)(null),g=Object(u.a)(b,2),E=g[0],k=g[1],w=Object(n.useState)(""),y=Object(u.a)(w,2),O=y[0],j=y[1];Object(n.useEffect)((function(){a&&j("/")}),[a]);var N=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),v(!0),p({}),a=t.target.email.value,n=t.target.password.value,a){e.next=8;break}return e.abrupt("return",p({email:"Please provide an email"}));case 8:if(n){e.next=10;break}return e.abrupt("return",p({password:"Please provide a password"}));case 10:return e.next=12,c(a,n);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),k(e.t0);case 17:return e.prev=17,v(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,14,17,20]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(re.a,null,r.a.createElement("form",{onSubmit:N},r.a.createElement("div",{className:"bg-white mv3 mv5-ns pa3 ph5-ns br3"},r.a.createElement("h1",{className:"title"},"Lattice Log In"),r.a.createElement("div",{className:"font-opensans tc mb3"},r.a.createElement("p",{className:"mb4"},"Discover and connect with MakeUC 2020 hackers from across the world!"),r.a.createElement(ce.a,{color:"error.main",textAlign:"center"},E&&E.message),r.a.createElement("div",{className:e.margin},r.a.createElement($.a,{container:!0,spacing:4,className:"mb3 lattice-form-band",alignItems:"flex-end"},r.a.createElement($.a,{className:"lattice-icon",item:!0},r.a.createElement(te.a,null)),r.a.createElement("p",{className:"lattice-form-label mb0 font-gray"},"Email Address"),r.a.createElement($.a,{item:!0,className:"lattice-form-input"},r.a.createElement(_.a,{name:"email",type:"email",id:"input-with-icon-grid",fullWidth:!0,variant:"outlined"}),m.email&&r.a.createElement(ce.a,{color:"error.main"},m.email))),r.a.createElement($.a,{container:!0,spacing:4,className:"mb3 lattice-form-band",alignItems:"flex-end"},r.a.createElement($.a,{item:!0,className:"lattice-icon"},r.a.createElement(ne.a,null)),r.a.createElement("p",{className:"lattice-form-label mb0 font-gray"},"Password"),r.a.createElement($.a,{item:!0,className:"lattice-form-input"},r.a.createElement(_.a,{name:"password",type:"password",id:"input-with-icon-grid",fullWidth:!0,variant:"outlined"}),m.password&&r.a.createElement(ce.a,{color:"error.main"},m.password)))),r.a.createElement(oe.a,{type:"submit",variant:"contained",className:"center",color:"primary",disabled:h},h?r.a.createElement(se,{size:"25px"}):"Sign In"),r.a.createElement(ce.a,{className:"mt4"},"Don't have an account? Contact us at ",r.a.createElement("a",{href:"mailto:info@makeuc.io"},"info@makeuc.io")," for an invite link")))),O&&r.a.createElement(Q.a,{to:O}))}var pe=a(220),fe=a(113),de=a.n(fe),he=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(n.useState)(e),a=Object(u.a)(t,2),r=a[0],c=a[1],o=function(){return c(!0)},i=function(){return c(!1)};return{show:r,open:o,dismiss:i}},ve=a(233),be=a(121),ge=function(e){var t,a=e.name,c=e.steps,o=P(),i=o.profile,m=o.completeTour,p=Object(n.useState)(!0),f=Object(u.a)(p,2),d=f[0],h=f[1],v=function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!1),e.next=3,m(a);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i.completedTours&&!(null===(t=i.completedTours)||void 0===t?void 0:t.includes(a))?r.a.createElement(be.a,{steps:c,isOpen:d,onRequestClose:v}):null},Ee=function(){return r.a.createElement(ge,{name:"notification",steps:ke})},ke=[{selector:"",content:"Congratulations on you first match! This is the profile of the hacker you matched with, which means that you both are interested in teaming up with each other."},{selector:".slack-button",content:"This is the username of this hacker on the MakeUC Slack workspace. You can use this to find and reach out to the hacker."},{selector:".email-button",content:"If for some reason you could not get in touch with the hacker on the MakeUC Slack, you can always try the old-fashioned email."}],we=function(e){var t=e.show,a=e.onClose,n=e.matchedUser,c=void 0===n?{}:n,o=c.skills,i=c.name,l=c.idea,s=c.lookingFor,u=c.email,m=c.slack,p=[null===o||void 0===o?void 0:o.slice(0,3),null===o||void 0===o?void 0:o.slice(3,6)];return r.a.createElement("div",null,r.a.createElement(ve.a,{open:t,onClose:a},r.a.createElement("div",{style:{width:"300px"}},!!i&&r.a.createElement("div",{className:"font-opensans",style:{textAlign:"center"}},r.a.createElement("h2",{className:"name"},r.a.createElement("small",null,"You matched with")," ",r.a.createElement("br",null)," ",i,"!"),r.a.createElement("h3",null,"Project Idea"),r.a.createElement("div",{style:{marginTop:"-5px",marginLeft:"15px",marginRight:"15px",marginBottom:"35px",borderRadius:"10px",paddingBottom:"0px"}},r.a.createElement("p",{style:{fontSize:"13px"}},l)),r.a.createElement("h3",null,"Offering"),p.map((function(e,t){return!!e.length&&r.a.createElement("div",{key:t,style:{padding:"25px",paddingBottom:"10px",marginTop:"-45px",marginLeft:"15px",marginRight:"15px",display:"flex",borderRadius:"10px"}},e.map((function(e){return r.a.createElement("i",{key:e.title,className:e.icon,style:{padding:"10px",fontSize:"50px"}})})))})),r.a.createElement("h3",null,"Looking For"),r.a.createElement("div",{style:{padding:"25px",marginTop:"-45px",marginLeft:"15px",marginRight:"15px",display:"flex",borderRadius:"10px"}},s.map((function(e){return r.a.createElement("i",{key:e.title,className:e.icon,style:{padding:"10px",fontSize:"50px"}})}))),r.a.createElement(oe.a,{className:"slack-button",fullWidth:!0,color:"primary"},"Slack: @",m),r.a.createElement(oe.a,{className:"email-button",fullWidth:!0,color:"primary"},"Email: ",u))),r.a.createElement(Ee,null)))},ye=r.a.createElement(oe.a,{className:"font-secondary-dark",size:"small"},r.a.createElement(de.a,{className:"font-secondary-dark"})),xe=Object(X.a)((function(e){return{root:{maxWidth:600,"& > * + *":{marginTop:e.spacing(2)}},snackbar:{backgroundColor:"#8174ff",fontFamily:"Open Sans"}}})),Oe=function(){var e=xe(),t=D(),a=t.isLoading,c=t.failedToLoad,o=t.notifications,i=t.getNotifications,l=t.readNotifications,s=he(),m=R().skills,p=Object(n.useState)(null),f=Object(u.a)(p,2),d=f[0],h=f[1];Object(n.useEffect)((function(){l()}),[]);return r.a.createElement(re.a,{className:e.root+" nav-bar-margin"},a?r.a.createElement(je,null,"Fetching notifications... ",r.a.createElement("br",null)," ",r.a.createElement(se,null)):c?r.a.createElement(je,null,r.a.createElement("p",null,"Error fetching notifications"),r.a.createElement(oe.a,{variant:"contained",color:"primary",onClick:i},"Try again")):o.length?r.a.createElement("div",{className:"pa4"},o.map((function(t){var a,n;return r.a.createElement(pe.a,{key:t.id,className:e.snackbar,message:"You matched with ".concat(null===(a=t.to)||void 0===a?void 0:a.name," ").concat((null===(n=t.notification)||void 0===n?void 0:n.read)?"":"(NEW)"),action:ye,onClick:function(){return function(e){var t=e.to,a=m.filter((function(e){var a;return null===(a=t.skills)||void 0===a?void 0:a.includes(e.title)})),n=m.filter((function(e){var a;return null===(a=t.lookingFor)||void 0===a?void 0:a.includes(e.title)})),r=Object(B.a)(Object(B.a)({},t),{},{skills:a,lookingFor:n});h(Object(B.a)(Object(B.a)({},e),{},{hydratedProfile:r})),s.open()}(t)}})}))):r.a.createElement(je,null,"No notifications"),r.a.createElement(we,{show:s.show,onClose:s.dismiss,matchedUser:null===d||void 0===d?void 0:d.hydratedProfile}))};function je(e){var t=e.children;return r.a.createElement(re.a,{className:"nav-bar-margin"},r.a.createElement("div",{className:"bg-white mv3 mv5-ns pa3 ph5-ns br3"},t))}var Ne=a(51),Se=a.n(Ne),Pe=a(70),Ce=a.n(Pe),Te=a(114),Le=a.n(Te),Ie=a(115),Fe=a.n(Ie),Re=a(71),Ae=function(e){var t=e.onClick,a=e.children,c=Object(Re.a)(e,["onClick","children"]),o=Object(n.useState)(),i=Object(u.a)(o,2),m=i[0],p=i[1],f=function(){var e=Object(s.a)(l.a.mark((function e(){var a=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,t.apply(void 0,a);case 4:return e.prev=4,p(!1),e.finish(4);case 7:case"end":return e.stop()}}),e,null,[[0,,4,7]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(oe.a,Object.assign({},c,{onClick:f,disabled:m}),m?r.a.createElement(se,{size:"25px"}):a)},We=function(){return r.a.createElement(ge,{name:"profile",steps:ze})},ze=[{selector:"",content:"Welcome to your Lattice profile page. This is the place where you control your profile, settings and visibility on Lattice."},{selector:".edit-profile-button",content:"You can hit this button to edit your profile."},{selector:".toggle-visibility-button",content:"From here you can control your visibility on Lattice. When you are done looking for teammates, you can mark your profile as not visibile so that you stop receiving matches."},{selector:".notification-request-button",content:"We highly recommend that you turn on push notifications so that you are notified as soon as you are matched with another hacker. If you deny the permission to send push notifications, you can only enable that later by going into your browser's settings."},{selector:".home-link",content:"When you are satisfied with your settings, you can go back to the home page and start matching with hackers."}],Be=a(224),qe=a(222),Me=a(223),Ue=a(221),Ye=function(e){var t=e.show,a=e.onSuccess,n=e.onClose,c=e.visible;return r.a.createElement("div",null,r.a.createElement(ve.a,{open:t,onClose:n},r.a.createElement(Ue.a,null,"Are you sure"),r.a.createElement(qe.a,null,r.a.createElement(Me.a,null,"Mark you profile ",c?" not":""," visible?")),r.a.createElement(Be.a,null,r.a.createElement(oe.a,{onClick:n,color:"primary"},"Cancel"),r.a.createElement(Ae,{onClick:a,color:"primary"},"Yes"))))},De=function(e){var t=e.show,a=e.onClose,n=e.visible;return r.a.createElement("div",null,r.a.createElement(ve.a,{open:t,onClose:a},r.a.createElement(Ue.a,null,"Success"),r.a.createElement(qe.a,null,r.a.createElement(Me.a,null,"Your profile is now ",n?" ":" not"," visible.")),r.a.createElement(Be.a,null,r.a.createElement(oe.a,{onClick:a,color:"primary"},"Close"))))},He=function(e){var t=e.show,a=e.onSuccess,n=e.onClose;return r.a.createElement("div",null,r.a.createElement(ve.a,{open:t,onClose:n},r.a.createElement(Ue.a,null,"Logout"),r.a.createElement(qe.a,null,r.a.createElement(Me.a,null,"Are you sure you want to log out?")),r.a.createElement(Be.a,null,r.a.createElement(oe.a,{onClick:n,color:"primary"},"Cancel"),r.a.createElement(Ae,{onClick:a,color:"primary"},"Yes"))))},Ve=(a(171),function(){var e=P(),t=e.isLoading,a=e.profile,c=e.toggleVisibility,o=x().logout,i=D(),m=i.pushPermission,p=i.requestNotificationPermission,f=Object(n.useState)(),d=Object(u.a)(f,2),h=d[0],v=d[1],b=he(),g=he(),E=he(),k=function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:b.dismiss(),g.open();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:E.dismiss();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(re.a,{className:"nav-bar-margin"},r.a.createElement("div",{className:"bg-white mv3 mv5-ns pa3 ph5-ns br3"},r.a.createElement("h1",{className:"title"},"Lattice Account"),t?"Loading...":r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mb4"},r.a.createElement($.a,{container:!0,spacing:4,className:"mb3 lattice-form-band",alignItems:"flex-end"},r.a.createElement($.a,{className:"lattice-icon",item:!0},r.a.createElement(Se.a,null)),r.a.createElement("p",{className:"lattice-form-label mb0 font-gray"},null===a||void 0===a?void 0:a.name)),r.a.createElement($.a,{container:!0,spacing:4,className:"mb3 lattice-form-band",alignItems:"flex-end"},r.a.createElement($.a,{className:"lattice-icon",item:!0},r.a.createElement(te.a,null)),r.a.createElement("p",{className:"lattice-form-label mb0 font-gray"},null===a||void 0===a?void 0:a.email)),r.a.createElement($.a,{container:!0,spacing:4,className:"mb3 lattice-form-band",alignItems:"flex-end"},r.a.createElement($.a,{item:!0,className:"lattice-icon"},r.a.createElement(Ce.a,null)),r.a.createElement("p",{className:"lattice-form-label mb0 font-gray"},null===a||void 0===a?void 0:a.slack))),r.a.createElement(oe.a,{variant:"contained",className:"center profile-button edit-profile-button",color:"primary",onClick:function(){return v("/profile/edit")}},"Edit Profile"),r.a.createElement(oe.a,{variant:"contained",className:"center profile-button toggle-visibility-button",color:"primary",onClick:b.open},a.visible?r.a.createElement(r.a.Fragment,null,r.a.createElement(Le.a,null)," \xa0 Mark Not Visible"):r.a.createElement(r.a.Fragment,null,r.a.createElement(Fe.a,null)," \xa0 Mark Visible")),"granted"===m?null:r.a.createElement(Ae,{variant:"contained",className:"center profile-button notification-request-button",color:"denied"===m?"secondary":"primary",onClick:p,disabled:"denied"===m},"default"===m?"Enable Push Notification":"Push Notification Permission Denied"),r.a.createElement(oe.a,{variant:"contained",className:"center profile-button",color:"primary"},"Change Password"),r.a.createElement(oe.a,{variant:"contained",className:"center profile-button",color:"primary",onClick:E.open},"Logout")),r.a.createElement(Ye,{show:b.show,onClose:b.dismiss,onSuccess:k,visible:a.visible}),r.a.createElement(De,{show:g.show,onClose:g.dismiss,visible:a.visible}),r.a.createElement(He,{show:E.show,onClose:E.dismiss,onSuccess:w}),h&&r.a.createElement(Q.a,{to:h})),r.a.createElement(We,null))}),Ge=function(){return r.a.createElement(ge,{name:"home",steps:Je})},Je=[{selector:"",content:"This is the Lattice homepage. Here you can find other enthusiastic hackers and team up with them to build awesome stuff."},{selector:".hacker-profile-card:last-of-type",content:"This is a hacker profile card. We automatically sort these profiles based on the skills you have and are looking for."},{selector:".hacker-profile-card:last-of-type",content:"If you are familiar with Tinder, you already know what to do. If not, here it is: you can swipe these cards either left or right."},{selector:".hacker-profile-card:last-of-type",content:"Swiping left means that you are not interested in teaming up with this hacker. Swiping right means that you like this hacker's profile and are interested in teaming up with them."},{selector:".notifications-link",content:"If you and another hacker both swipe right on each other, it's a match! You both will get a notification. You can check out all your match notifications here."},{selector:".profile-link",content:"You can always go here and modify your profile."},{selector:".deck",content:"That is all I have for you today. Hope you have a great time at MakeUC. Happy swiping!"}],Ze=function(){return r.a.createElement(ge,{name:"reset",steps:Ke})},Ke=[{selector:"",content:"Hello there! It seems like you have seen all the hackers' profiles that have registered so far. So now, there are three things you can do."},{selector:".reset-button",content:"If you click on this button, all the profiles that you swiped left on will be available to you again."},{selector:".mark-not-visibile-button",content:"If you have already found a team for the hackathon, you can click on this button to mark your profile as not visible, so that you don't get any further matches."},{selector:".wait-text",content:"Hackers will keep on flowing into Lattice until the day of the hackathon, so you can simply wait for more hackers to join Lattice."}],Qe=a(47),Xe=a(116),_e=(a(172),function(e){var t=e.i,a=e.x,n=e.y,c=e.rot,o=e.scale,i=e.trans,l=e.bind,s=e.data[t],u=s.skills,m=s.name,p=s.idea,f=s.lookingFor,d=[u.slice(0,3),u.slice(3,6)];return r.a.createElement(Qe.a.div,{key:t,style:{transform:Object(Qe.b)([a,n],(function(e,t){return"translate3d(".concat(e,"px,").concat(t,"px,0)")}))}},r.a.createElement(Qe.a.div,Object.assign({},l(t),{style:{transform:Object(Qe.b)([c,o],i),boxShadow:Object(Qe.b)([a],(function(e){if(e>-5&&e<5)return null;var t=Math.abs(e)/300,a=e>0?"rgba(0, 255, 0, ".concat(t,")"):"rgba(255, 0, 0, ".concat(t,")");return"".concat(1.5*e,"px 0 80px -80px ").concat(a," inset")}))}}),r.a.createElement("div",{className:"font-opensans hacker-profile-card",style:{textAlign:"center"}},r.a.createElement("h2",{className:"name"},m),r.a.createElement("h3",null,"Project Idea"),r.a.createElement("div",{style:{marginTop:"-5px",marginLeft:"15px",marginRight:"15px",marginBottom:"35px",borderRadius:"10px",paddingBottom:"0px"}},r.a.createElement("p",{style:{fontSize:"13px"}},p)),r.a.createElement("h3",null,"Offering"),d.map((function(e,t){return!!e.length&&r.a.createElement("div",{key:t,style:{padding:"25px",paddingBottom:"10px",marginTop:"-45px",marginLeft:"15px",marginRight:"15px",display:"flex",borderRadius:"10px"}},e.map((function(e){return r.a.createElement("i",{key:e.title,className:e.icon,style:{padding:"10px",fontSize:"50px"}})})))})),r.a.createElement("h3",null,"Looking For"),r.a.createElement("div",{style:{padding:"25px",marginTop:"-45px",marginLeft:"15px",marginRight:"15px",display:"flex",borderRadius:"10px"}},f.map((function(e){return r.a.createElement("i",{key:e.title,className:e.icon,style:{padding:"10px",fontSize:"50px"}})}))))))}),$e=(a(173),function(e,t){return"perspective(1500px) rotateX(10deg) rotateY(".concat(e/10,"deg) rotateZ(").concat(e,"deg) scale(").concat(t,")")});var et=function(e){var t=e.data,a=R().getProfiles,c=z().swipeProfile,o=Object(n.useState)((function(){return new Set})),i=Object(u.a)(o,1)[0],m=Object(Qe.c)(t.length,(function(e){return Object(B.a)(Object(B.a)({},function(e){return{x:0,y:-3*e,scale:1,rot:10*Math.random()-5,delay:100*e}}(e)),{},{from:{rot:0,scale:1.5,y:-1e3}})})),p=Object(u.a)(m,2),f=p[0],d=p[1],h=function(){var e=Object(s.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t,1===a);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),v=function(){console.log("onFinish: End of cards"),a()},b=Object(Xe.a)((function(e){var a,n=Object(u.a)(e.args,1)[0],r=e.down,c=Object(u.a)(e.delta,1)[0],o=(e.distance,Object(u.a)(e.direction,1)[0]),l=e.velocity,s=o<0?-1:1,m=null;(!r&&l>.2&&(m=h(t[n],s).then((function(){return console.log("swiped")})),i.add(n)),d((function(e){if(n===e){var t=i.has(n);return{x:t?(200+window.innerWidth)*s:r?c:0,rot:c/100+(t?10*s*l:0),scale:r?1.1:1,delay:void 0,config:{friction:50,tension:r?800:t?200:500}}}})),r||i.size!==t.length)||(null===(a=m)||void 0===a||a.then(v))}));return r.a.createElement("div",{className:"deck",style:{position:"fixed"}},f.map((function(e,a){var n=e.x,c=e.y,o=e.rot,i=e.scale;return r.a.createElement(_e,{key:a,i:a,x:n,y:c,rot:o,scale:i,trans:$e,data:t,bind:b})})))},tt=function(){var e=P(),t=R(),a=Object(n.useState)(),c=Object(u.a)(a,2),o=c[0],i=c[1],l=e.profile,s=t.isLoading,m=t.skills,p=t.profiles;return Object(n.useEffect)((function(){if(m.length){var e=p.map((function(e){var t=m.filter((function(t){var a;return null===e||void 0===e||null===(a=e.skills)||void 0===a?void 0:a.includes(t.title)})),a=m.filter((function(t){var a;return null===e||void 0===e||null===(a=e.lookingFor)||void 0===a?void 0:a.includes(t.title)}));return Object(B.a)(Object(B.a)({},e),{},{skills:t,lookingFor:a})}));i(e)}}),[p,m]),r.a.createElement(r.a.Fragment,null,r.a.createElement(rt,null),r.a.createElement(nt,null),r.a.createElement(ct,null),r.a.createElement(ot,null),(null===l||void 0===l?void 0:l.visible)&&!s&&!!(null===o||void 0===o?void 0:o.length)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(et,{data:o}),r.a.createElement(Ge,null)))};function at(e){var t=e.children;return r.a.createElement(re.a,{className:"nav-bar-margin"},r.a.createElement("div",{className:"bg-white mv3 mv5-ns pa3 ph5-ns br3"},t))}function nt(){var e=P(),t=e.isLoading,a=e.failedToLoad,n=e.profile;return t||a?null:n.started?n.completed?n.visible?null:r.a.createElement(at,null,'Welcome back! Mark your profile "visible" from your ',r.a.createElement(K.b,{to:"/profile"},"profile page")," to start searching for potential teammates!"):r.a.createElement(at,null,"Welcome back! Head over to your ",r.a.createElement(K.b,{to:"/profile/edit"},"profile page")," to complete your profile and start searching for potential teammates!"):r.a.createElement(at,null,"Welcome! Let's get you set up. Head over to your ",r.a.createElement(K.b,{to:"/profile/edit"},"profile page")," to get started.")}function rt(){var e=P(),t=R();return e.isLoading?r.a.createElement(at,null,"Fetching your profile... ",r.a.createElement("br",null)," ",r.a.createElement(se,null)):t.isLoading?r.a.createElement(at,null,"Finding the best hackers for you... ",r.a.createElement("br",null)," ",r.a.createElement(se,null)):null}function ct(){var e=P().profile,t=R(),a=t.isLoading,n=t.profiles,c=z().reset;return!(null===e||void 0===e?void 0:e.visible)||a||n.length?null:r.a.createElement(at,null,r.a.createElement("p",null,"That's everybody! If you still haven't found your teammates, you can reset all your left swipes and start over."),r.a.createElement(Ae,{className:"reset-button",variant:"contained",color:"primary",onClick:c},"Reset"),r.a.createElement("p",null,"Or if you have already found your teammates, you can mark your profile as not visible."),r.a.createElement(oe.a,{className:"mark-not-visibile-button",variant:"contained",color:"primary"},"Mark not visible"),r.a.createElement("p",{className:"wait-text"},"Or you can just wait for more people to join Lattice!"),r.a.createElement(Ze,null))}function ot(){var e=P(),t=R();return e.failedToLoad?r.a.createElement(at,null,"There was an error fetching your profile ",r.a.createElement("br",null),r.a.createElement(oe.a,{variant:"contained",color:"primary",onClick:e.getProfile},"Retry")):t.failedToLoad?r.a.createElement(at,null,"There was an error fetching hackers ",r.a.createElement("br",null),r.a.createElement(oe.a,{variant:"contained",color:"primary",onClick:t.getProfiles},"Retry")):null}var it=function(){return r.a.createElement(re.a,null,r.a.createElement("div",{className:"bg-white mv3 mv5-ns pa3 ph5-ns br3"},r.a.createElement("h1",{className:"title"},"Reset Password"),r.a.createElement("div",{className:"mb4"},r.a.createElement($.a,{container:!0,spacing:4,className:"mb3 lattice-form-band",alignItems:"flex-end"},r.a.createElement($.a,{className:"lattice-icon",item:!0},r.a.createElement(te.a,null)),r.a.createElement("p",{className:"lattice-form-label mb0 font-gray"},"Email Address"),r.a.createElement($.a,{item:!0,className:"lattice-form-input"},r.a.createElement(_.a,{id:"input-with-icon-grid",fullWidth:!0,variant:"outlined"}))),r.a.createElement(oe.a,{variant:"contained",className:"center",color:"primary"},"Send Reset Instructions"))))},lt=a(123),st=a(117),ut=a.n(st),mt=a(225),pt=a(231),ft=a(234),dt=function(e){var t=e.show,a=e.onClose;return r.a.createElement("div",null,r.a.createElement(ve.a,{open:t,onClose:a},r.a.createElement(Ue.a,null,"Success"),r.a.createElement(qe.a,null,r.a.createElement(Me.a,null,"Your profile was sucessfully updated.")),r.a.createElement(Be.a,null,r.a.createElement(oe.a,{onClick:a,color:"primary"},"Next"))))},ht=Object(X.a)((function(e){return{margin:{margin:e.spacing(1)}}})),vt=function(){var e,t,a,c,o=ht(),i=Object(lt.a)(),m=i.register,p=i.setValue,f=i.handleSubmit,d=i.errors,h=i.reset,v=i.watch,b=P(),g=b.isLoading,E=b.profile,k=b.updateProfile,w=R().skills,y=Object(n.useState)(!1),x=Object(u.a)(y,2),O=x[0],j=x[1],N=Object(n.useState)(""),S=Object(u.a)(N,2),C=S[0],T=S[1],L=Object(n.useState)(!1),I=Object(u.a)(L,2),F=I[0],A=I[1],W=Object(n.useState)(),z=Object(u.a)(W,2),q=z[0],M=z[1];Object(n.useEffect)((function(){m({name:"skills"},{required:!0,validate:function(e){return e.length<=6}}),m({name:"lookingFor"},{required:!0,validate:function(e){return e.length<=3}})}),[m]),Object(n.useEffect)((function(){var e=null===w||void 0===w?void 0:w.filter((function(e){var t;return null===E||void 0===E||null===(t=E.skills)||void 0===t?void 0:t.includes(e.title)})),t=null===w||void 0===w?void 0:w.filter((function(e){var t;return null===E||void 0===E||null===(t=E.lookingFor)||void 0===t?void 0:t.includes(e.title)}));h(Object(B.a)(Object(B.a)({},E),{},{skills:e,lookingFor:t}))}),[h,w,E]),Object(n.useEffect)((function(){T(!!Object.keys(d).length&&"Please fix the above errors")}),[d]);var U=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),a=t.skills.map((function(e){return e.title})),n=t.lookingFor.map((function(e){return e.title})),e.next=6,k(Object(B.a)(Object(B.a)({},t),{},{skills:a,lookingFor:n}));case 6:A(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),T(e.t0.message);case 12:return e.prev=12,j(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){A(!1),M("/profile")},D=v("skills")||[],H=v("lookingFor")||[];return r.a.createElement(re.a,{className:o.root+" nav-bar-margin"},r.a.createElement("form",{onSubmit:f(U)},r.a.createElement("div",{className:"bg-white mv3 mv5-ns pa3 ph5-ns br3"},r.a.createElement("h1",{className:"title"},"Your Profile"),g?"Loading...":r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:o.margin+" font-opensans"},r.a.createElement($.a,{container:!0,spacing:4,className:"mb3 lattice-form-band",alignItems:"flex-end"},r.a.createElement($.a,{className:"lattice-icon",item:!0},r.a.createElement(Se.a,null)),r.a.createElement("p",{className:"lattice-form-label mb0 font-gray"},"Full name"),r.a.createElement($.a,{item:!0,className:"lattice-form-input"},r.a.createElement(_.a,{fullWidth:!0,name:"name",id:"input-with-icon-grid",variant:"outlined",placeholder:"John Doe",inputRef:m({required:"This field is required"}),error:!!d.name,helperText:(null===(e=d.name)||void 0===e?void 0:e.message)||"Every hacker needs a public identity."}))),r.a.createElement($.a,{container:!0,spacing:4,className:"mb3 lattice-form-band",alignItems:"flex-end"},r.a.createElement($.a,{item:!0,className:"lattice-icon"},r.a.createElement(ut.a,null)),r.a.createElement("p",{className:"lattice-form-label mb0 font-gray"},"Project Idea"),r.a.createElement($.a,{item:!0,className:"lattice-form-input"},r.a.createElement(_.a,{fullWidth:!0,multiline:!0,name:"idea",id:"input-with-icon-grid",variant:"outlined",placeholder:"A coronavirus map",inputRef:m({required:"This field is required",maxLength:250}),error:!!d.idea,helperText:(null===(t=d.idea)||void 0===t?void 0:t.message)||("maxLength"===(null===(a=d.idea)||void 0===a?void 0:a.type)?"Please write no more than 250 characters":"Share your innovative idea. It's fine if you don't have one.")}))),r.a.createElement($.a,{container:!0,spacing:4,className:"mb3 lattice-form-band",alignItems:"flex-end"},r.a.createElement($.a,{className:"lattice-icon",item:!0},r.a.createElement(ft.a,null)),r.a.createElement("p",{className:"lattice-form-label mb0 font-gray"},"Your skills"),r.a.createElement($.a,{item:!0,className:"lattice-form-input"},r.a.createElement(pt.a,{multiple:!0,filterSelectedOptions:!0,id:"tags-outlined",options:w,getOptionLabel:function(e){return e.title},value:D,renderInput:function(e){var t;return r.a.createElement(_.a,Object.assign({},e,{variant:"outlined",label:"",placeholder:"Skills",error:!!d.skills,helperText:"required"===(null===(t=d.skills)||void 0===t?void 0:t.type)?"Please select atleast one":"Please select no more than 6"}))},onChange:function(e,t){return p("skills",t)}}))),r.a.createElement($.a,{container:!0,spacing:4,className:"mb3 lattice-form-band",alignItems:"flex-end"},r.a.createElement($.a,{className:"lattice-icon",item:!0},r.a.createElement(ft.a,null)),r.a.createElement("p",{className:"lattice-form-label mb0 font-gray"},"Looking For"),r.a.createElement($.a,{item:!0,className:"lattice-form-input"},r.a.createElement(pt.a,{multiple:!0,id:"tags-outlined",options:w,getOptionLabel:function(e){return e.title},filterSelectedOptions:!0,value:H,renderInput:function(e){var t;return r.a.createElement(_.a,Object.assign({},e,{variant:"outlined",label:"",placeholder:"Skills",error:!!d.lookingFor,helperText:"required"===(null===(t=d.lookingFor)||void 0===t?void 0:t.type)?"Please select atleast one":"Please select no more than 3"}))},onChange:function(e,t){return p("lookingFor",t)}}))),r.a.createElement($.a,{container:!0,spacing:4,className:"mb3 lattice-form-band",alignItems:"flex-end"},r.a.createElement($.a,{item:!0,className:"lattice-icon"},r.a.createElement(Ce.a,null)),r.a.createElement("p",{className:"lattice-form-label mb0 font-gray"},"Slack handle"),r.a.createElement($.a,{item:!0,className:"lattice-form-input"},r.a.createElement(_.a,{fullWidth:!0,name:"slack",id:"input-with-icon-grid",variant:"outlined",inputRef:m({required:"This field is required"}),InputProps:{startAdornment:r.a.createElement(mt.a,{position:"start"},"@")},error:!!d.slack,helperText:(null===(c=d.slack)||void 0===c?void 0:c.message)||"Please provide the handle you have on the MakeUC Slack. Your matches will use this to contact you."})))),r.a.createElement(oe.a,{type:"submit",variant:"contained",className:"center",color:"primary",disabled:O},O?r.a.createElement(se,{size:"25px"}):"Save"),C&&r.a.createElement(ce.a,{color:"error.main",className:"mt2"},C)))),r.a.createElement(dt,{show:F,onClose:Y},r.a.createElement("h2",null,"Success"),r.a.createElement("p",null,"Your profile was sucessfully updated."),r.a.createElement(oe.a,{variant:"contained",className:"center",color:"primary",onClick:Y},"Next")),q&&r.a.createElement(Q.a,{to:q}))},bt=function(e){var t=e.children;return x().token?r.a.createElement(Q.a,{to:"/"}):t},gt=a(227),Et=a(226),kt=a(119),wt=a.n(kt),yt=a(120),xt=a.n(yt),Ot=a(228);a(174);function jt(e){e.navigate;var t=Object(Re.a)(e,["navigate"]);return r.a.createElement(Et.a,t)}var Nt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(gt.a,{className:"bottomNavigation"},r.a.createElement(K.b,{to:"/notifications",className:"notifications-link"},r.a.createElement(jt,{icon:r.a.createElement(St,null)})),r.a.createElement(K.b,{to:"/",className:"home-link"},r.a.createElement(jt,{icon:r.a.createElement(wt.a,null)})),r.a.createElement(K.b,{to:"/profile",className:"profile-link"},r.a.createElement(jt,{icon:r.a.createElement(Se.a,null)}))))},St=function(){var e=D(),t=e.failedToLoad,a=e.notifications,c=Object(n.useState)(0),o=Object(u.a)(c,2),i=o[0],l=o[1];return Object(n.useEffect)((function(){var e=a.filter((function(e){return!e.notification.read})).length;l(e)}),[a]),r.a.createElement(Ot.a,{badgeContent:t?"!":i,color:t?"error":"primary"},r.a.createElement(xt.a,null))},Pt=function(e){var t=e.children;return null===x().token?r.a.createElement(Q.a,{to:"/auth/login"}):r.a.createElement(r.a.Fragment,null,t,r.a.createElement(Nt,null))},Ct=function(){return r.a.createElement(K.a,{basename:"/lattice"},r.a.createElement(Q.d,null,r.a.createElement(Q.b,{path:"/auth/register/:registrantId"},r.a.createElement(bt,null,r.a.createElement(le,null))),r.a.createElement(Q.b,{path:"/auth/login"},r.a.createElement(bt,null,r.a.createElement(me,null))),r.a.createElement(Q.b,{path:"/auth/reset"},r.a.createElement(bt,null,r.a.createElement(it,null))),r.a.createElement(Q.b,{path:"/notifications"},r.a.createElement(Pt,null,r.a.createElement(Oe,null))),r.a.createElement(Q.b,{path:"/profile/edit"},r.a.createElement(Pt,null,r.a.createElement(vt,null))),r.a.createElement(Q.b,{path:"/profile"},r.a.createElement(Pt,null,r.a.createElement(Ve,null))),r.a.createElement(Q.b,{path:"/"},r.a.createElement(Pt,null,r.a.createElement(tt,null)))))},Tt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,null,r.a.createElement(Ct,null)))},Lt=(a(175),function(){return r.a.createElement(Tt,null)}),It=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ft(e,t){console.log({swUrl:e}),navigator.serviceWorker.register(e).then((function(e){return console.log({registration:e}),e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})},e})).then((function(e){t&&t.onRegister&&t.onRegister(e)})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(Lt,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(console.log("The URL constructor is available in all browsers that support SW"),new URL("/lattice",window.location.href).origin!==window.location.origin)return void console.log("Our service worker won't work if PUBLIC_URL is on a different origin from what our page is served on. This might happen if a CDN is used to serve assets");window.addEventListener("load",(function(){var t="".concat("/lattice","/sw.js");It?(console.log("This is running on localhost. Let's check if a service worker still exists or not."),function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ft(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker")}))):(console.log("Is not localhost. Just register service worker"),Ft(t,e))}))}}()}},[[140,1,2]]]);
//# sourceMappingURL=main.815c98a2.chunk.js.map