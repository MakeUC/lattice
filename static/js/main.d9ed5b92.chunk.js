(this.webpackJsonplattice=this.webpackJsonplattice||[]).push([[0],{103:function(e,t,a){},140:function(e,t,a){e.exports=a(176)},164:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){},176:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),o=a.n(c),l=a(3),i=a.n(l),s=a(6),u=a(7),m=a(18),p=a.n(m),d="https://makeuc-registration.herokuapp.com",f="".concat(d,"/auth"),h={getRegistrantEmail:e=>Object(s.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p()({url:"".concat(f,"/email/").concat(e),method:"GET"});case 3:return a=t.sent,t.abrupt("return",a.data);case 7:throw t.prev=7,t.t0=t.catch(0),new Error(t.t0.response.data.message||"Cannot reach server, please try again later");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))(),register:(e,t)=>Object(s.a)(i.a.mark((function a(){var n;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p()({url:"".concat(f,"/register"),method:"POST",data:{registrantId:e,password:t}});case 3:return n=a.sent,a.abrupt("return",n.data);case 7:throw a.prev=7,a.t0=a.catch(0),new Error(a.t0.response.data.message||"Cannot reach server, please try again later");case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))(),login:(e,t)=>Object(s.a)(i.a.mark((function a(){var n,r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p()({url:"".concat(f,"/login"),method:"POST",data:{email:e,password:t}});case 3:return n=a.sent,a.abrupt("return",n.data);case 7:throw a.prev=7,a.t0=a.catch(0),new Error((null===(r=a.t0.response)||void 0===r?void 0:r.data.message)||"Cannot reach server, please try again later");case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))(),changePassword:e=>Object(s.a)(i.a.mark((function t(){var a,n,r,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.token,n=e.oldPassword,r=e.newPassword,t.prev=1,t.next=4,p()({url:"".concat(f,"/password"),method:"PUT",data:{oldPassword:n,newPassword:r},headers:{Authorization:"Bearer ".concat(a)}});case 4:return t.abrupt("return");case 7:throw t.prev=7,t.t0=t.catch(1),new Error((null===(c=t.t0.response)||void 0===c?void 0:c.data.message)||"Cannot reach server, please try again later");case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))(),sendResetLink:e=>Object(s.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p()({url:"".concat(f,"/reset"),method:"POST",data:{email:e}});case 3:return a=t.sent,t.abrupt("return",a.data);case 7:throw t.prev=7,t.t0=t.catch(0),new Error(t.t0.response.data.message||"Cannot reach server, please try again later");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))(),getResetInfo:e=>Object(s.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p()({url:"".concat(f,"/reset/").concat(e),method:"GET"});case 3:return a=t.sent,t.abrupt("return",a.data);case 7:throw t.prev=7,t.t0=t.catch(0),new Error(t.t0.response.data.message||"Cannot reach server, please try again later");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))(),resetPassword:(e,t)=>Object(s.a)(i.a.mark((function a(){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p()({url:"".concat(f,"/reset"),method:"PUT",data:{resetToken:e,password:t}});case 3:return a.abrupt("return");case 6:throw a.prev=6,a.t0=a.catch(0),new Error(a.t0.response.data.message||"Cannot reach server, please try again later");case 9:case"end":return a.stop()}}),a,null,[[0,6]])})))()},v="".concat(d,"/notification"),b=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),a=atob(t),n=new Uint8Array(a.length),r=0;r<a.length;++r)n[r]=a.charCodeAt(r);return n},E=function(){var e=Object(s.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.serviceWorker.ready;case 2:return t=e.sent,e.next=5,t.pushManager.getSubscription();case 5:if(!e.sent){e.next=8;break}throw new Error("Push subscription already exists");case 8:return a=b("BBZjBy7vm7QXjZGm8FefmDDFahC2hZOTNMGeJTH1tO1ZT4Rji6wMSBEKzxg8HML4PozPQYRF1ga8EqLFGFDCl0E"),n={applicationServerKey:a,userVisibleOnly:!0},e.abrupt("return",t.pushManager.subscribe(n));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(s.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.serviceWorker.ready;case 2:return t=e.sent,e.next=5,t.pushManager.getSubscription();case 5:if(a=e.sent){e.next=8;break}throw new Error("Push subscription does not exist");case 8:return e.abrupt("return",a.unsubscribe());case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w={requestPermission:()=>window.Notification.requestPermission(),subscribe:e=>Object(s.a)(i.a.mark((function t(){var a,n,r,c,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.token,t.prev=1,t.next=4,E();case 4:return n=t.sent,t.next=7,p()({url:"".concat(v,"/subscribe"),method:"POST",data:n,headers:{Authorization:"Bearer ".concat(a)}});case 7:return r=t.sent,t.abrupt("return",r.data);case 11:throw t.prev=11,t.t0=t.catch(1),new Error((null===(c=t.t0.response)||void 0===c||null===(o=c.data)||void 0===o?void 0:o.message)||t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})))(),unsubscribe:e=>Object(s.a)(i.a.mark((function t(){var a,n,r,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.token,n=e.id,t.prev=1,t.next=4,g();case 4:return t.next=6,p()({url:"".concat(v,"/subscribe/").concat(n),method:"DELETE",headers:{Authorization:"Bearer ".concat(a)}});case 6:return t.abrupt("return");case 9:throw t.prev=9,t.t0=t.catch(1),new Error((null===(r=t.t0.response)||void 0===r||null===(c=r.data)||void 0===c?void 0:c.message)||t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},k=Object(n.createContext)({token:"",email:"",getRegistrantEmail(){},register(){},login(){},logout(){},changePassword(){},sendResetLink(){},getResetInfo(){},resetPassword(){}});function y(e){var t=e.children,a=Object(n.useState)(""),c=Object(u.a)(a,2),o=c[0],l=c[1];Object(n.useEffect)((function(){var e=localStorage.getItem("lattice-token");l(e)}),[]),Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o){e.next=3;break}return e.abrupt("return");case 3:if(!localStorage.getItem("push-subscription-id")){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,w.subscribe({token:o});case 8:t=e.sent,localStorage.setItem("push-subscription-id",t.id),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()}),[o]);var m=function(){var e=Object(s.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.register(t,a);case 2:n=e.sent,localStorage.setItem("lattice-token",n),l(n);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),p=function(){var e=Object(s.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.login(t,a);case 2:n=e.sent,localStorage.setItem("lattice-token",n),l(n);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),d={token:o,getRegistrantEmail:function(e){return h.getRegistrantEmail(e)},register:m,login:p,logout:function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,localStorage.removeItem("lattice-token"),l(null),t=localStorage.getItem("push-subscription-id"),e.next=6,w.unsubscribe({token:o,id:t});case 6:localStorage.removeItem("push-subscription-id"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),changePassword:function(e){var t=e.oldPassword,a=e.newPassword;return h.changePassword({token:o,oldPassword:t,newPassword:a})},sendResetLink:function(e){return h.sendResetLink(e)},getResetInfo:function(e){return h.getResetInfo(e)},resetPassword:function(e,t){return h.resetPassword(e,t)}};return r.a.createElement(k.Provider,{value:d},t)}var x=function(){return Object(n.useContext)(k)},O="".concat(d,"/profile"),j={getProfiles:e=>Object(s.a)(i.a.mark((function t(){var a,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.token,t.prev=1,t.next=4,p()({url:"".concat(O,"/list"),method:"GET",headers:{Authorization:"Bearer ".concat(a)}});case 4:return n=t.sent,t.abrupt("return",n.data);case 8:throw t.prev=8,t.t0=t.catch(1),new Error(t.t0.response.data.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))(),getProfile:e=>Object(s.a)(i.a.mark((function t(){var a,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.token,t.prev=1,t.next=4,p()({url:"".concat(O,"/"),method:"GET",headers:{Authorization:"Bearer ".concat(a)}});case 4:return n=t.sent,t.abrupt("return",n.data);case 8:throw t.prev=8,t.t0=t.catch(1),new Error(t.t0.response.data.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))(),startProfile:e=>Object(s.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.token,t.prev=1,t.next=4,p()({url:"".concat(O,"/start"),method:"POST",headers:{Authorization:"Bearer ".concat(a)}});case 4:return t.abrupt("return");case 7:throw t.prev=7,t.t0=t.catch(1),new Error(t.t0.response.data.message);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))(),updateProfile:e=>Object(s.a)(i.a.mark((function t(){var a,n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.token,n=e.profile,t.prev=1,t.next=4,p()({url:"".concat(O,"/"),method:"PUT",data:n,headers:{Authorization:"Bearer ".concat(a)}});case 4:return r=t.sent,t.abrupt("return",r.data);case 8:throw t.prev=8,t.t0=t.catch(1),new Error(t.t0.response.data.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))(),setVisible:e=>Object(s.a)(i.a.mark((function t(){var a,n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.token,n=e.visible,t.prev=1,t.next=4,p()({url:"".concat(O,"/visible"),method:"PUT",data:{visible:n},headers:{Authorization:"Bearer ".concat(a)}});case 4:return r=t.sent,t.abrupt("return",r.data);case 8:throw t.prev=8,t.t0=t.catch(1),new Error(t.t0.response.data.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))(),getSkills:e=>Object(s.a)(i.a.mark((function t(){var a,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.token,t.prev=1,t.next=4,p()({url:"".concat(O,"/skills"),method:"GET",headers:{Authorization:"Bearer ".concat(a)}});case 4:return n=t.sent,t.abrupt("return",n.data);case 8:throw t.prev=8,t.t0=t.catch(1),new Error(t.t0.response.data.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))(),completeTour:e=>Object(s.a)(i.a.mark((function t(){var a,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.token,n=e.tour,t.prev=1,t.next=4,p()({url:"".concat(O,"/tour/").concat(n),method:"POST",headers:{Authorization:"Bearer ".concat(a)}});case 4:return t.abrupt("return");case 7:throw t.prev=7,t.t0=t.catch(1),new Error(t.t0.response.data.message);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))()},N=Object(n.createContext)({isLoading:!0,failedToLoad:null,profile:{},getProfile(){},updateProfile(){},toggleVisibility(){},completeTour(){}});function C(e){var t=e.children,a=x().token,c=Object(n.useState)(!0),o=Object(u.a)(c,2),l=o[0],m=o[1],p=Object(n.useState)(null),d=Object(u.a)(p,2),f=d[0],h=d[1],v=Object(n.useState)({}),b=Object(u.a)(v,2),E=b[0],g=b[1],w=Object(n.useCallback)(Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),h(null),e.next=5,j.getProfile({token:a});case 5:t=e.sent,g(t),t.started||j.startProfile({token:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),h(e.t0);case 13:return e.prev=13,m(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])}))),[a]);Object(n.useEffect)((function(){a&&w()}),[a,w]);var k=function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.updateProfile({token:a,profile:t});case 2:n=e.sent,g(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.setVisible({token:a,visible:!E.visible});case 2:t=e.sent,g(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.completeTour({token:a,tour:t});case 3:return e.next=5,w();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),C={isLoading:l,failedToLoad:f,profile:E,getProfile:w,updateProfile:k,toggleVisibility:y,completeTour:O};return r.a.createElement(N.Provider,{value:C},t)}var S=function(){return Object(n.useContext)(N)},P=a(19),T="".concat(d,"/match"),L={swipe:e=>Object(s.a)(i.a.mark((function t(){var a,n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.token,n=e.match,t.prev=1,t.next=4,p()({url:"".concat(T),method:"POST",data:n,headers:{Authorization:"Bearer ".concat(a)}});case 4:return r=t.sent,t.abrupt("return",r.data);case 8:throw t.prev=8,t.t0=t.catch(1),new Error(t.t0.response.data.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))(),reset:e=>Object(s.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.token,t.prev=1,t.next=4,p()({url:"".concat(T),method:"DELETE",headers:{Authorization:"Bearer ".concat(a)}});case 4:return t.abrupt("return");case 7:throw t.prev=7,t.t0=t.catch(1),new Error(t.t0.response.data.message);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))()},I=Object(n.createContext)({isLoading:!0,failedToLoad:null,skills:[],profiles:[],getSkills(){},getProfiles(){}});function R(e){var t=e.children,a=x().token,c=S().profile,o=Object(n.useState)(!1),l=Object(u.a)(o,2),m=l[0],p=l[1],d=Object(n.useState)(null),f=Object(u.a)(d,2),h=f[0],v=f[1],b=Object(n.useState)([]),E=Object(u.a)(b,2),g=E[0],w=E[1],k=Object(n.useState)([]),y=Object(u.a)(k,2),O=y[0],N=y[1],C=Object(n.useCallback)(Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.getSkills({token:a});case 3:t=e.sent,w(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[a]),P=Object(n.useCallback)(Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===c||void 0===c?void 0:c.visible){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,p(!0),v(null),e.next=7,j.getProfiles({token:a});case 7:t=e.sent,N(t),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),v(e.t0);case 14:return e.prev=14,p(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])}))),[c.visible,a]);Object(n.useEffect)((function(){a&&C()}),[a,C]),Object(n.useEffect)((function(){a&&P()}),[a,P]);var T={isLoading:m,failedToLoad:h,skills:g,profiles:O,getSkills:C,getProfiles:P};return r.a.createElement(I.Provider,{value:T},t)}var F=function(){return Object(n.useContext)(I)},A=Object(n.createContext)({swipeProfile(){},reset(){}});function W(e){var t=e.children,a=x().token,c=F().getProfiles,o=Object(n.useState)([]),l=Object(u.a)(o,2),m=l[0],p=l[1],d={swipeProfile:function(){var e=Object(s.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m.includes(t.id)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,L.swipe({token:a,match:{to:t.id,match:n}});case 4:p((function(e){return[].concat(Object(P.a)(e),[t.id])}));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),reset:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.reset({token:a});case 2:return p([]),e.next=5,c();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()};return r.a.createElement(A.Provider,{value:d},t)}var z=function(){return Object(n.useContext)(A)},q=a(21),B="".concat(d,"/notification"),Y={getNotifications:e=>Object(s.a)(i.a.mark((function t(){var a,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.token,t.prev=1,t.next=4,p()({url:"".concat(B),method:"GET",headers:{Authorization:"Bearer ".concat(a)}});case 4:return n=t.sent,t.abrupt("return",n.data);case 8:throw t.prev=8,t.t0=t.catch(1),new Error(t.t0.response.data.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))(),readNotifications:e=>Object(s.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.token,t.prev=1,t.next=4,p()({url:"".concat(B,"/read"),method:"POST",headers:{Authorization:"Bearer ".concat(a)}});case 4:return t.abrupt("return");case 7:throw t.prev=7,t.t0=t.catch(1),new Error(t.t0.response.data.message);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))()},M=Object(n.createContext)({isLoading:!1,failedToLoad:null,notifications:[],pushPermission:"default",getNotifications(){},readNotifications(){},requestNotificationPermission(){}});function U(e){var t=e.children,a=x().token,c=S().profile,o=Object(n.useState)("default"),l=Object(u.a)(o,2),m=l[0],p=l[1],d=Object(n.useState)(!0),f=Object(u.a)(d,2),h=f[0],v=f[1],b=Object(n.useState)(null),E=Object(u.a)(b,2),g=E[0],k=E[1],y=Object(n.useState)([]),O=Object(u.a)(y,2),j=O[0],N=O[1],C=Object(n.useCallback)(Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,v(!0),k(null),e.next=7,Y.getNotifications({token:a});case 7:t=e.sent,N(t),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),k(e.t0);case 14:return e.prev=14,v(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])}))),[a]);Object(n.useEffect)((function(){C()}),[C]);var P=function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:if(j.filter((function(e){return!e.notification.read})).length){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,Y.readNotifications({token:a});case 8:N((function(e){return e.map((function(e){return Object(q.a)(Object(q.a)({},e),{},{read:!0})}))})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,w.requestPermission();case 4:t=e.sent,p(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){c.visible&&T()}),[a,c.visible]);var L={isLoading:h,failedToLoad:g,notifications:j,pushPermission:m,getNotifications:C,readNotifications:P,requestNotificationPermission:T};return r.a.createElement(M.Provider,{value:L},t)}var D=function(){return Object(n.useContext)(M)},V=a(123),G=a(212),H=Object(V.a)({palette:{primary:{main:"rgb(129,116,255)"}}});function Z(e){var t=e.children;return r.a.createElement(G.a,{theme:H},t)}var J=function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,null,r.a.createElement(C,null,r.a.createElement(R,null,r.a.createElement(W,null,r.a.createElement(U,null,r.a.createElement(Z,null,t)))))))},K=a(22),Q=a(20),X=a(213),$=a(229),_=a(217),ee=a(47),te=a.n(ee),ae=a(52),ne=a.n(ae),re=a(215),ce=a(230),oe=a(219),le=(a(103),a(164),function(e){var t=e.size,a=void 0===t?"100px":t;return r.a.createElement("div",{id:"spinner-container"},r.a.createElement("img",{id:"spinner",src:"/lattice/logo.png",alt:"Lattice logo",style:{width:a,height:a}}))}),ie=Object(X.a)((function(e){return{margin:{margin:e.spacing(1)}}})),se=function(){var e=ie(),t=x(),a=t.token,c=t.getRegistrantEmail,o=t.register,l=Object(Q.g)().registrantId,m=Object(n.useState)(!0),p=Object(u.a)(m,2),d=p[0],f=p[1],h=Object(n.useState)(null),v=Object(u.a)(h,2),b=v[0],E=v[1],g=Object(n.useState)(""),w=Object(u.a)(g,2),k=w[0],y=w[1],O=Object(n.useState)({}),j=Object(u.a)(O,2),N=j[0],C=j[1],S=Object(n.useState)(!1),P=Object(u.a)(S,2),T=P[0],L=P[1],I=Object(n.useState)(null),R=Object(u.a)(I,2),F=R[0],A=R[1],W=Object(n.useState)(""),z=Object(u.a)(W,2),q=z[0],B=z[1];Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(l);case 3:t=e.sent,y(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),E(e.t0);case 10:return e.prev=10,f(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})))()}),[c,l]),Object(n.useEffect)((function(){a&&B("/")}),[a]);var Y=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),L(!0),C({}),a=t.target.email.value,n=t.target.password.value,r=t.target.confirmPassword.value,a){e.next=9;break}return e.abrupt("return",C({email:"Invalid email, please check the link provided"}));case 9:if(n){e.next=11;break}return e.abrupt("return",C({password:"Please provide a password"}));case 11:if(!(n.length<6)){e.next=13;break}return e.abrupt("return",C({password:"Password must be atleast 6 characters long"}));case 13:if(n===r){e.next=15;break}return e.abrupt("return",C({confirmPassword:"Passwords don't match"}));case 15:return e.next=17,o(l,n);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),A(e.t0);case 22:return e.prev=22,L(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[0,19,22,25]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(re.a,{className:e.root},r.a.createElement("form",{onSubmit:Y},r.a.createElement("div",{className:"bg-white mv3 mv5-ns pa3 ph5-ns br3"},d?r.a.createElement("h1",{className:"title"},"Loading..."):b?r.a.createElement(ce.a,{color:"error.main",textAlign:"center"},r.a.createElement("h3",null,b.message)):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"title"},"Create Account"),r.a.createElement(ce.a,{color:"error.main",textAlign:"center"},F&&F.message),r.a.createElement("div",{className:e.margin+" font-opensans"},r.a.createElement(_.a,{container:!0,spacing:4,className:"lattice-form-band",alignItems:"flex-end"},r.a.createElement(_.a,{className:"lattice-icon",item:!0},r.a.createElement(te.a,null)),r.a.createElement("p",{className:"lattice-form-label mb0 font-gray"},"Email Address"),r.a.createElement(_.a,{item:!0,className:"lattice-form-input"},r.a.createElement($.a,{name:"email",type:"email",id:"input-with-icon-grid",fullWidth:!0,variant:"outlined",value:k,disabled:!0}),N.email&&r.a.createElement(ce.a,{color:"error.main"},N.email))),r.a.createElement(_.a,{container:!0,spacing:4,className:"lattice-form-band",alignItems:"flex-end"},r.a.createElement(_.a,{item:!0,className:"lattice-icon"},r.a.createElement(ne.a,null)),r.a.createElement("p",{className:"lattice-form-label mb0 font-gray"},"Password"),r.a.createElement(_.a,{item:!0,className:"lattice-form-input"},r.a.createElement($.a,{name:"password",type:"password",id:"input-with-icon-grid",fullWidth:!0,variant:"outlined"}),N.password&&r.a.createElement(ce.a,{color:"error.main"},N.password))),r.a.createElement(_.a,{container:!0,spacing:4,className:"lattice-form-band",alignItems:"flex-end"},r.a.createElement(_.a,{item:!0,className:"lattice-icon"},r.a.createElement(ne.a,null)),r.a.createElement("p",{className:"lattice-form-label mb0 font-gray"},"Confirm Password"),r.a.createElement(_.a,{item:!0,className:"lattice-form-input"},r.a.createElement($.a,{name:"confirmPassword",type:"password",id:"input-with-icon-grid",fullWidth:!0,variant:"outlined"}),N.confirmPassword&&r.a.createElement(ce.a,{color:"error.main"},N.confirmPassword))),r.a.createElement("input",{type:"hidden",name:"registrantId",value:l}),r.a.createElement(oe.a,{type:"submit",variant:"contained",className:"center",color:"primary",disabled:T},T?r.a.createElement(le,{size:"25px"}):"Sign Up"),r.a.createElement(ce.a,{className:"mt4"},"Already registered? Log in ",r.a.createElement(K.b,{to:"/auth/login"},"here")))))),q&&r.a.createElement(Q.a,{to:q}))},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(n.useState)(e),a=Object(u.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(null),l=Object(u.a)(o,2),i=l[0],s=l[1],m=function(){return c(!0)},p=function(){s(null),c(!1)};return{show:r,open:m,dismiss:p,state:i,setState:s}},me=a(59),pe=a(233),de=a(222),fe=a(221),he=a(220),ve=function(e){var t,a=e.show,n=e.onClose,c=e.onSuccess,o=Object(me.a)(),l=o.register,i=o.handleSubmit,s=o.errors;return r.a.createElement("div",null,r.a.createElement(pe.a,{open:a,onClose:n},r.a.createElement("form",{onSubmit:i(c)},r.a.createElement(he.a,null,"Request Password Reset"),r.a.createElement(fe.a,null,r.a.createElement($.a,{autoFocus:!0,name:"email",label:"Email",variant:"outlined",type:"email",margin:"normal",fullWidth:!0,inputRef:l({required:"This field is required"}),error:!!s.email,helperText:null===(t=s.email)||void 0===t?void 0:t.message})),r.a.createElement(de.a,null,r.a.createElement(oe.a,{type:"submit",color:"primary"},"Submit"),r.a.createElement(oe.a,{onClick:n,color:"primary"},"Cancel")))))},be=a(223),Ee=function(e){var t=e.show,a=e.onClose,n=e.error;return r.a.createElement("div",null,r.a.createElement(pe.a,{open:t,onClose:a},r.a.createElement(he.a,null,n?"Error":"Success"),r.a.createElement(fe.a,null,r.a.createElement(be.a,null,n?"There was a problem trying to reset your password - ".concat(n.message):"An password reset link has been sent to your email.")),r.a.createElement(de.a,null,r.a.createElement(oe.a,{onClick:a,color:"primary"},"Close"))))},ge=Object(X.a)((function(e){return{margin:{margin:e.spacing(1)}}}));function we(){var e=ge(),t=x(),a=t.token,c=t.login,o=t.sendResetLink,l=ue(),m=ue(),p=Object(n.useState)({}),d=Object(u.a)(p,2),f=d[0],h=d[1],v=Object(n.useState)(!1),b=Object(u.a)(v,2),E=b[0],g=b[1],w=Object(n.useState)(null),k=Object(u.a)(w,2),y=k[0],O=k[1],j=Object(n.useState)(""),N=Object(u.a)(j,2),C=N[0],S=N[1];Object(n.useEffect)((function(){a&&S("/")}),[a]);var P=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),g(!0),h({}),a=t.target.email.value,n=t.target.password.value,a){e.next=8;break}return e.abrupt("return",h({email:"Please provide an email"}));case 8:if(n){e.next=10;break}return e.abrupt("return",h({password:"Please provide a password"}));case 10:return e.next=12,c(a,n);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),O(e.t0);case 17:return e.prev=17,g(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,14,17,20]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(s.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,e.prev=1,e.next=4,o(a);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),m.setState(e.t0);case 9:return e.prev=9,l.dismiss(),m.open(),e.finish(9);case 13:case"end":return e.stop()}}),e,null,[[1,6,9,13]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(re.a,null,r.a.createElement("form",{onSubmit:P},r.a.createElement("div",{className:"bg-white mv3 mv5-ns pa3 ph5-ns br3"},r.a.createElement("h1",{className:"title"},"Lattice Log In"),r.a.createElement("div",{className:"font-opensans tc mb3"},r.a.createElement("p",{className:"mb4"},"Discover and connect with MakeUC 2020 hackers from across the world!"),r.a.createElement(ce.a,{color:"error.main",textAlign:"center"},y&&y.message),r.a.createElement("div",{className:e.margin},r.a.createElement(_.a,{container:!0,spacing:4,className:"mb3 lattice-form-band",alignItems:"flex-end"},r.a.createElement(_.a,{className:"lattice-icon",item:!0},r.a.createElement(te.a,null)),r.a.createElement("p",{className:"lattice-form-label mb0 font-gray"},"Email Address"),r.a.createElement(_.a,{item:!0,className:"lattice-form-input"},r.a.createElement($.a,{name:"email",type:"email",id:"input-with-icon-grid",fullWidth:!0,variant:"outlined"}),f.email&&r.a.createElement(ce.a,{color:"error.main"},f.email))),r.a.createElement(_.a,{container:!0,spacing:4,className:"mb3 lattice-form-band",alignItems:"flex-end"},r.a.createElement(_.a,{item:!0,className:"lattice-icon"},r.a.createElement(ne.a,null)),r.a.createElement("p",{className:"lattice-form-label mb0 font-gray"},"Password"),r.a.createElement(_.a,{item:!0,className:"lattice-form-input"},r.a.createElement($.a,{name:"password",type:"password",id:"input-with-icon-grid",fullWidth:!0,variant:"outlined"}),f.password&&r.a.createElement(ce.a,{color:"error.main"},f.password)))),r.a.createElement(oe.a,{type:"submit",variant:"contained",className:"center",color:"primary",disabled:E},E?r.a.createElement(le,{size:"25px"}):"Sign In"),r.a.createElement(ce.a,{m:1}),r.a.createElement(oe.a,{type:"button",variant:"contained",className:"center",color:"primary",onClick:l.open},"Forgot Password"),r.a.createElement(ce.a,{className:"mt4"},"Don't have an account? Contact us at ",r.a.createElement("a",{href:"mailto:info@makeuc.io"},"info@makeuc.io")," for an invite link")))),r.a.createElement(ve,{show:l.show,onClose:l.dismiss,onSuccess:T}),r.a.createElement(Ee,{show:m.show,onClose:m.dismiss,error:m.state}),C&&r.a.createElement(Q.a,{to:C}))}var ke=a(224),ye=a(114),xe=a.n(ye),Oe=a(122),je=function(e){var t,a=e.name,c=e.steps,o=S(),l=o.profile,m=o.completeTour,p=Object(n.useState)(!0),d=Object(u.a)(p,2),f=d[0],h=d[1],v=function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!1),e.next=3,m(a);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return!(null===(t=l.completedTours)||void 0===t?void 0:t.includes(a))?r.a.createElement(Oe.a,{steps:c,isOpen:f,onRequestClose:v}):null},Ne=function(){return r.a.createElement(je,{name:"notification",steps:Ce})},Ce=[{selector:"",content:"Congratulations on you first match! This is the profile of the hacker you matched with, which means that you both are interested in teaming up with each other."},{selector:".slack-button",content:"This is the username of this hacker on the MakeUC Slack workspace. You can use this to find and reach out to the hacker. Click on the button to automatically copy the handler into your clipboard."},{selector:".email-button",content:"If for some reason you could not get in touch with the hacker on the MakeUC Slack, you can always try the old-fashioned email. Click on the button to automatically copy the email into your clipboard."}],Se=function(e){var t=e.show,a=e.onClose,n=e.matchedUser,c=void 0===n?{}:n,o=e.onContactClick,l=c.skills,i=c.name,s=c.idea,u=c.lookingFor,m=c.email,p=c.slack,d=[null===l||void 0===l?void 0:l.slice(0,3),null===l||void 0===l?void 0:l.slice(3,6)];return r.a.createElement("div",null,r.a.createElement(pe.a,{open:t,onClose:a},r.a.createElement("div",{style:{width:"300px"}},!!i&&r.a.createElement("div",{className:"font-opensans",style:{textAlign:"center"}},r.a.createElement("h2",{className:"name"},r.a.createElement("small",null,"You matched with")," ",r.a.createElement("br",null)," ",i,"!"),r.a.createElement("h3",null,"Project Idea"),r.a.createElement("div",{style:{marginTop:"-5px",marginLeft:"15px",marginRight:"15px",marginBottom:"35px",borderRadius:"10px",paddingBottom:"0px"}},r.a.createElement("p",{style:{fontSize:"13px"}},s)),r.a.createElement("h3",null,"Offering"),d.map((function(e,t){return!!e.length&&r.a.createElement("div",{key:t,style:{padding:"25px",paddingBottom:"10px",marginTop:"-45px",marginLeft:"15px",marginRight:"15px",display:"flex",borderRadius:"10px"}},e.map((function(e){return r.a.createElement("i",{key:e.title,className:e.icon,style:{padding:"10px",fontSize:"50px"}})})))})),r.a.createElement("h3",null,"Looking For"),r.a.createElement("div",{style:{padding:"25px",marginTop:"-45px",marginLeft:"15px",marginRight:"15px",display:"flex",borderRadius:"10px"}},u.map((function(e){return r.a.createElement("i",{key:e.title,className:e.icon,style:{padding:"10px",fontSize:"50px"}})}))),r.a.createElement(oe.a,{className:"slack-button",fullWidth:!0,color:"primary",onClick:function(){return o(["Slack handler","@".concat(p)])}},"Slack: @",p),r.a.createElement(oe.a,{className:"email-button",fullWidth:!0,color:"primary",onClick:function(){return o(["Email",m])}},"Email: ",m))),r.a.createElement(Ne,null)))},Pe=function(e){var t=e.show,a=e.onClose,n=e.state;if(!n)return null;var c=Object(u.a)(n,1)[0];return r.a.createElement("div",null,r.a.createElement(pe.a,{open:t,onClose:a},r.a.createElement(he.a,null,"Success"),r.a.createElement(fe.a,null,r.a.createElement(be.a,null,c," copied to clipboard.")),r.a.createElement(de.a,null,r.a.createElement(oe.a,{onClick:a,color:"primary"},"Close"))))},Te=r.a.createElement(oe.a,{className:"font-secondary-dark",size:"small"},r.a.createElement(xe.a,{className:"font-secondary-dark"})),Le=Object(X.a)((function(e){return{root:{maxWidth:600,"& > * + *":{marginTop:e.spacing(2)}},snackbar:{backgroundColor:"#8174ff",fontFamily:"Open Sans"}}})),Ie=function(){var e=Le(),t=D(),a=t.isLoading,c=t.failedToLoad,o=t.notifications,l=t.getNotifications,m=t.readNotifications,p=ue(),d=ue(),f=F().skills,h=Object(n.useState)(null),v=Object(u.a)(h,2),b=v[0],E=v[1];Object(n.useEffect)((function(){m()}),[]);var g=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(u.a)(t,2),n=a[0],r=a[1],console.log([n,r]),e.next=4,navigator.clipboard.writeText(r);case 4:d.setState([n,r]),d.open();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(re.a,{className:e.root+" nav-bar-margin"},a?r.a.createElement(Re,null,"Fetching notifications... ",r.a.createElement("br",null)," ",r.a.createElement(le,null)):c?r.a.createElement(Re,null,r.a.createElement("p",null,"Error fetching notifications"),r.a.createElement(oe.a,{variant:"contained",color:"primary",onClick:l},"Try again")):o.length?r.a.createElement("div",{className:"pa4"},o.map((function(t){var a,n;return r.a.createElement(ke.a,{key:t.id,className:e.snackbar,message:"You matched with ".concat(null===(a=t.to)||void 0===a?void 0:a.name," ").concat((null===(n=t.notification)||void 0===n?void 0:n.read)?"":"(NEW)"),action:Te,onClick:function(){return function(e){var t=e.to,a=f.filter((function(e){var a;return null===(a=t.skills)||void 0===a?void 0:a.includes(e.title)})),n=f.filter((function(e){var a;return null===(a=t.lookingFor)||void 0===a?void 0:a.includes(e.title)})),r=Object(q.a)(Object(q.a)({},t),{},{skills:a,lookingFor:n});E(Object(q.a)(Object(q.a)({},e),{},{hydratedProfile:r})),p.open()}(t)},style:{marginBottom:"10px"}})}))):r.a.createElement(Re,null,"No notifications"),r.a.createElement(Se,{show:p.show,onClose:p.dismiss,matchedUser:null===b||void 0===b?void 0:b.hydratedProfile,onContactClick:g}),r.a.createElement(Pe,{show:d.show,onClose:d.dismiss,state:d.state}))};function Re(e){var t=e.children;return r.a.createElement(re.a,{className:"nav-bar-margin"},r.a.createElement("div",{className:"bg-white mv3 mv5-ns pa3 ph5-ns br3"},t))}var Fe=a(58),Ae=a.n(Fe),We=a(75),ze=a.n(We),qe=a(115),Be=a.n(qe),Ye=a(116),Me=a.n(Ye),Ue=a(76),De=function(e){var t=e.onClick,a=e.children,c=Object(Ue.a)(e,["onClick","children"]),o=Object(n.useState)(),l=Object(u.a)(o,2),m=l[0],p=l[1],d=function(){var e=Object(s.a)(i.a.mark((function e(){var a=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,t.apply(void 0,a);case 4:return e.prev=4,p(!1),e.finish(4);case 7:case"end":return e.stop()}}),e,null,[[0,,4,7]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(oe.a,Object.assign({},c,{onClick:d,disabled:m}),m?r.a.createElement(le,{size:"25px"}):a)},Ve=function(){return r.a.createElement(je,{name:"profile",steps:Ge})},Ge=[{selector:"",content:"Welcome to your Lattice profile page. This is the place where you control your profile, settings and visibility on Lattice."},{selector:".edit-profile-button",content:"You can hit this button to edit your profile."},{selector:".toggle-visibility-button",content:"From here you can control your visibility on Lattice. When you are done looking for teammates, you can mark your profile as not visibile so that you stop receiving matches."},{selector:".notification-request-button",content:"We highly recommend that you turn on push notifications so that you are notified as soon as you are matched with another hacker. If you deny the permission to send push notifications, you can only enable that later by going into your browser's settings."},{selector:".home-link",content:"When you are satisfied with your settings, you can go back to the home page and start matching with hackers."}],He=function(e){var t=e.show,a=e.onSuccess,n=e.onClose,c=e.visible;return r.a.createElement("div",null,r.a.createElement(pe.a,{open:t,onClose:n},r.a.createElement(he.a,null,"Are you sure"),r.a.createElement(fe.a,null,r.a.createElement(be.a,null,"Mark you profile ",c?" not":""," visible?")),r.a.createElement(de.a,null,r.a.createElement(oe.a,{onClick:n,color:"primary"},"Cancel"),r.a.createElement(De,{onClick:a,color:"primary"},"Yes"))))},Ze=function(e){var t=e.show,a=e.onClose,n=e.visible;return r.a.createElement("div",null,r.a.createElement(pe.a,{open:t,onClose:a},r.a.createElement(he.a,null,"Success"),r.a.createElement(fe.a,null,r.a.createElement(be.a,null,"Your profile is now ",n?" ":" not"," visible.")),r.a.createElement(de.a,null,r.a.createElement(oe.a,{onClick:a,color:"primary"},"Close"))))},Je=function(e){var t,a,c,o,l,m=e.show,p=e.onClose,d=e.onSuccess,f=Object(me.a)(),h=f.register,v=f.getValues,b=f.handleSubmit,E=f.errors,g=Object(n.useState)(!1),w=Object(u.a)(g,2),k=w[0],y=w[1],x=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,d(t);case 4:return e.prev=4,y(!1),e.finish(4);case 7:case"end":return e.stop()}}),e,null,[[0,,4,7]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(pe.a,{open:m,onClose:p},r.a.createElement("form",{onSubmit:b(x)},r.a.createElement(he.a,null,"Change Password"),r.a.createElement(fe.a,null,r.a.createElement($.a,{autoFocus:!0,name:"oldPassword",label:"Current password",variant:"outlined",type:"password",margin:"normal",fullWidth:!0,inputRef:h({required:"This field is required"}),error:!!E.oldPassword,helperText:null===(t=E.oldPassword)||void 0===t?void 0:t.message}),r.a.createElement($.a,{name:"newPassword",label:"New password",variant:"outlined",type:"password",margin:"normal",fullWidth:!0,inputRef:h({required:"This field is required",minLength:6}),error:!!E.newPassword,helperText:(null===(a=E.newPassword)||void 0===a?void 0:a.message)||"minLength"===(null===(c=E.newPassword)||void 0===c?void 0:c.type)&&"Passwords should be atleast 6 characters"}),r.a.createElement($.a,{name:"confirmNewPassword",label:"Confirm new password",variant:"outlined",type:"password",margin:"normal",fullWidth:!0,inputRef:h({required:"This field is required",validate:function(e){return v("newPassword")===e}}),error:!!E.confirmNewPassword,helperText:(null===(o=E.confirmNewPassword)||void 0===o?void 0:o.message)||"validate"===(null===(l=E.confirmNewPassword)||void 0===l?void 0:l.type)&&"Passwords do not match"})),r.a.createElement(de.a,null,r.a.createElement(oe.a,{type:"submit",color:"primary",disabled:k},k?r.a.createElement(le,{size:"25px"}):"Submit"),r.a.createElement(oe.a,{onClick:p,color:"primary"},"Cancel")))))},Ke=function(e){var t=e.show,a=e.onClose,n=e.error;return r.a.createElement("div",null,r.a.createElement(pe.a,{open:t,onClose:a},r.a.createElement(he.a,null,"Success"),r.a.createElement(fe.a,null,r.a.createElement(be.a,null,n?"There was a problem trying to change your password, please try again later.":"Your password has been successfully changed.")),r.a.createElement(de.a,null,r.a.createElement(oe.a,{onClick:a,color:"primary"},"Close"))))},Qe=function(e){var t=e.show,a=e.onSuccess,n=e.onClose;return r.a.createElement("div",null,r.a.createElement(pe.a,{open:t,onClose:n},r.a.createElement(he.a,null,"Logout"),r.a.createElement(fe.a,null,r.a.createElement(be.a,null,"Are you sure you want to log out?")),r.a.createElement(de.a,null,r.a.createElement(oe.a,{onClick:n,color:"primary"},"Cancel"),r.a.createElement(De,{onClick:a,color:"primary"},"Yes"))))},Xe=(a(171),function(){var e=x(),t=e.logout,a=e.changePassword,c=S(),o=c.isLoading,l=c.profile,m=c.toggleVisibility,p=D(),d=p.pushPermission,f=p.requestNotificationPermission,h=ue(),v=ue(),b=ue(),E=ue(),g=ue(),w=Object(n.useState)(),k=Object(u.a)(w,2),y=k[0],O=k[1],j=function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:h.dismiss(),v.open();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),E.setState(e.t0);case 8:return e.prev=8,b.dismiss(),E.open(),e.finish(8);case 12:case"end":return e.stop()}}),e,null,[[0,5,8,12]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:g.dismiss();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(re.a,{className:"nav-bar-margin"},r.a.createElement("div",{className:"bg-white mv3 mv5-ns pa3 ph5-ns br3"},r.a.createElement("h1",{className:"title"},"Lattice Account"),o?"Loading...":r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mb4"},r.a.createElement(_.a,{container:!0,spacing:4,className:"mb3 lattice-form-band",alignItems:"flex-end"},r.a.createElement(_.a,{className:"lattice-icon",item:!0},r.a.createElement(Ae.a,null)),r.a.createElement("p",{className:"lattice-form-label mb0 font-gray"},null===l||void 0===l?void 0:l.name)),r.a.createElement(_.a,{container:!0,spacing:4,className:"mb3 lattice-form-band",alignItems:"flex-end"},r.a.createElement(_.a,{className:"lattice-icon",item:!0},r.a.createElement(te.a,null)),r.a.createElement("p",{className:"lattice-form-label mb0 font-gray"},null===l||void 0===l?void 0:l.email)),r.a.createElement(_.a,{container:!0,spacing:4,className:"mb3 lattice-form-band",alignItems:"flex-end"},r.a.createElement(_.a,{item:!0,className:"lattice-icon"},r.a.createElement(ze.a,null)),r.a.createElement("p",{className:"lattice-form-label mb0 font-gray"},null===l||void 0===l?void 0:l.slack))),r.a.createElement(oe.a,{variant:"contained",className:"center profile-button edit-profile-button",color:"primary",onClick:function(){return O("/profile/edit")}},"Edit Profile"),r.a.createElement(oe.a,{variant:"contained",className:"center profile-button toggle-visibility-button",color:"primary",onClick:h.open},l.visible?r.a.createElement(r.a.Fragment,null,r.a.createElement(Be.a,null)," \xa0 Mark Not Visible"):r.a.createElement(r.a.Fragment,null,r.a.createElement(Me.a,null)," \xa0 Mark Visible")),"granted"===d?null:r.a.createElement(De,{variant:"contained",className:"center profile-button notification-request-button",color:"denied"===d?"secondary":"primary",onClick:f,disabled:"denied"===d},"default"===d?"Enable Push Notification":"Push Notification Permission Denied"),r.a.createElement(oe.a,{variant:"contained",className:"center profile-button",color:"primary",onClick:b.open},"Change Password"),r.a.createElement(oe.a,{variant:"contained",className:"center profile-button",color:"primary",onClick:g.open},"Logout")),r.a.createElement(He,{show:h.show,onClose:h.dismiss,onSuccess:j,visible:l.visible}),r.a.createElement(Ze,{show:v.show,onClose:v.dismiss,visible:l.visible}),r.a.createElement(Je,{show:b.show,onClose:b.dismiss,onSuccess:N}),r.a.createElement(Ke,{show:E.show,onClose:E.dismiss,error:E.state}),r.a.createElement(Qe,{show:g.show,onClose:g.dismiss,onSuccess:C}),y&&r.a.createElement(Q.a,{to:y})),r.a.createElement(Ve,null))}),$e=a(117),_e=a.n($e),et=a(225),tt=a(231),at=a(234),nt=function(e){var t=e.show,a=e.onClose;return r.a.createElement("div",null,r.a.createElement(pe.a,{open:t,onClose:a},r.a.createElement(he.a,null,"Success"),r.a.createElement(fe.a,null,r.a.createElement(be.a,null,"Your profile was sucessfully updated.")),r.a.createElement(de.a,null,r.a.createElement(oe.a,{onClick:a,color:"primary"},"Next"))))},rt=Object(X.a)((function(e){return{margin:{margin:e.spacing(1)}}})),ct=function(){var e,t,a,c,o=rt(),l=S(),m=l.isLoading,p=l.profile,d=l.updateProfile,f=F().skills,h=Object(me.a)(),v=h.register,b=h.setValue,E=h.handleSubmit,g=h.errors,w=h.reset,k=h.watch,y=Object(n.useState)(!1),x=Object(u.a)(y,2),O=x[0],j=x[1],N=Object(n.useState)(""),C=Object(u.a)(N,2),P=C[0],T=C[1],L=Object(n.useState)(!1),I=Object(u.a)(L,2),R=I[0],A=I[1],W=Object(n.useState)(),z=Object(u.a)(W,2),B=z[0],Y=z[1];Object(n.useEffect)((function(){v({name:"skills"},{required:!0,validate:function(e){return e.length<=6}}),v({name:"lookingFor"},{required:!0,validate:function(e){return e.length<=3}})}),[v]),Object(n.useEffect)((function(){var e=null===f||void 0===f?void 0:f.filter((function(e){var t;return null===p||void 0===p||null===(t=p.skills)||void 0===t?void 0:t.includes(e.title)})),t=null===f||void 0===f?void 0:f.filter((function(e){var t;return null===p||void 0===p||null===(t=p.lookingFor)||void 0===t?void 0:t.includes(e.title)}));w(Object(q.a)(Object(q.a)({},p),{},{skills:e,lookingFor:t}))}),[w,f,p]),Object(n.useEffect)((function(){T(!!Object.keys(g).length&&"Please fix the above errors")}),[g]);var M=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),a=t.skills.map((function(e){return e.title})),n=t.lookingFor.map((function(e){return e.title})),e.next=6,d(Object(q.a)(Object(q.a)({},t),{},{skills:a,lookingFor:n}));case 6:A(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),T(e.t0.message);case 12:return e.prev=12,j(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){A(!1),Y("/profile")},D=k("skills")||[],V=k("lookingFor")||[];return r.a.createElement(re.a,{className:o.root+" nav-bar-margin"},r.a.createElement("form",{onSubmit:E(M)},r.a.createElement("div",{className:"bg-white mv3 mv5-ns pa3 ph5-ns br3"},r.a.createElement("h1",{className:"title"},"Your Profile"),m?"Loading...":r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:o.margin+" font-opensans"},r.a.createElement(_.a,{container:!0,spacing:4,className:"mb3 lattice-form-band",alignItems:"flex-end"},r.a.createElement(_.a,{className:"lattice-icon",item:!0},r.a.createElement(Ae.a,null)),r.a.createElement("p",{className:"lattice-form-label mb0 font-gray"},"Full name"),r.a.createElement(_.a,{item:!0,className:"lattice-form-input"},r.a.createElement($.a,{fullWidth:!0,name:"name",id:"input-with-icon-grid",variant:"outlined",placeholder:"John Doe",inputRef:v({required:"This field is required"}),error:!!g.name,helperText:(null===(e=g.name)||void 0===e?void 0:e.message)||"Every hacker needs a public identity."}))),r.a.createElement(_.a,{container:!0,spacing:4,className:"mb3 lattice-form-band",alignItems:"flex-end"},r.a.createElement(_.a,{item:!0,className:"lattice-icon"},r.a.createElement(_e.a,null)),r.a.createElement("p",{className:"lattice-form-label mb0 font-gray"},"Project Idea"),r.a.createElement(_.a,{item:!0,className:"lattice-form-input"},r.a.createElement($.a,{fullWidth:!0,multiline:!0,name:"idea",id:"input-with-icon-grid",variant:"outlined",placeholder:"A coronavirus map",inputRef:v({required:"This field is required",maxLength:250}),error:!!g.idea,helperText:(null===(t=g.idea)||void 0===t?void 0:t.message)||("maxLength"===(null===(a=g.idea)||void 0===a?void 0:a.type)?"Please write no more than 250 characters":"Share your innovative idea. It's fine if you don't have one.")}))),r.a.createElement(_.a,{container:!0,spacing:4,className:"mb3 lattice-form-band",alignItems:"flex-end"},r.a.createElement(_.a,{className:"lattice-icon",item:!0},r.a.createElement(at.a,null)),r.a.createElement("p",{className:"lattice-form-label mb0 font-gray"},"Your skills"),r.a.createElement(_.a,{item:!0,className:"lattice-form-input"},r.a.createElement(tt.a,{multiple:!0,filterSelectedOptions:!0,id:"tags-outlined",options:f,getOptionLabel:function(e){return e.title},value:D,renderInput:function(e){var t;return r.a.createElement($.a,Object.assign({},e,{variant:"outlined",label:"",placeholder:"Skills",error:!!g.skills,helperText:"required"===(null===(t=g.skills)||void 0===t?void 0:t.type)?"Please select atleast one":"Please select no more than 6"}))},onChange:function(e,t){return b("skills",t)}}))),r.a.createElement(_.a,{container:!0,spacing:4,className:"mb3 lattice-form-band",alignItems:"flex-end"},r.a.createElement(_.a,{className:"lattice-icon",item:!0},r.a.createElement(at.a,null)),r.a.createElement("p",{className:"lattice-form-label mb0 font-gray"},"Looking For"),r.a.createElement(_.a,{item:!0,className:"lattice-form-input"},r.a.createElement(tt.a,{multiple:!0,id:"tags-outlined",options:f,getOptionLabel:function(e){return e.title},filterSelectedOptions:!0,value:V,renderInput:function(e){var t;return r.a.createElement($.a,Object.assign({},e,{variant:"outlined",label:"",placeholder:"Skills",error:!!g.lookingFor,helperText:"required"===(null===(t=g.lookingFor)||void 0===t?void 0:t.type)?"Please select atleast one":"Please select no more than 3"}))},onChange:function(e,t){return b("lookingFor",t)}}))),r.a.createElement(_.a,{container:!0,spacing:4,className:"mb3 lattice-form-band",alignItems:"flex-end"},r.a.createElement(_.a,{item:!0,className:"lattice-icon"},r.a.createElement(ze.a,null)),r.a.createElement("p",{className:"lattice-form-label mb0 font-gray"},"Slack handle"),r.a.createElement(_.a,{item:!0,className:"lattice-form-input"},r.a.createElement($.a,{fullWidth:!0,name:"slack",id:"input-with-icon-grid",variant:"outlined",inputRef:v({required:"This field is required"}),InputProps:{startAdornment:r.a.createElement(et.a,{position:"start"},"@")},error:!!g.slack,helperText:(null===(c=g.slack)||void 0===c?void 0:c.message)||"Please provide the handle you have on the MakeUC Slack. Your matches will use this to contact you."})))),r.a.createElement(oe.a,{type:"submit",variant:"contained",className:"center",color:"primary",disabled:O},O?r.a.createElement(le,{size:"25px"}):"Save"),P&&r.a.createElement(ce.a,{color:"error.main",className:"mt2"},P)))),r.a.createElement(nt,{show:R,onClose:U},r.a.createElement("h2",null,"Success"),r.a.createElement("p",null,"Your profile was sucessfully updated."),r.a.createElement(oe.a,{variant:"contained",className:"center",color:"primary",onClick:U},"Next")),B&&r.a.createElement(Q.a,{to:B}))},ot=function(){return r.a.createElement(je,{name:"home",steps:lt})},lt=[{selector:"",content:"This is the Lattice homepage. Here you can find other enthusiastic hackers and team up with them to build awesome stuff."},{selector:".hacker-profile-card:last-of-type",content:"This is a hacker profile card. We automatically sort these profiles based on the skills you have and are looking for."},{selector:".hacker-profile-card:last-of-type",content:"If you are familiar with Tinder, you already know what to do. If not, here it is: you can swipe these cards either left or right."},{selector:".hacker-profile-card:last-of-type",content:"Swiping left means that you are not interested in teaming up with this hacker. Swiping right means that you like this hacker's profile and are interested in teaming up with them."},{selector:".notifications-link",content:"If you and another hacker both swipe right on each other, it's a match! You both will get a notification. You can check out all your match notifications here."},{selector:".profile-link",content:"You can always go here and modify your profile."},{selector:".deck",content:"That is all I have for you today. Hope you have a great time at MakeUC. Happy swiping!"}],it=function(){return r.a.createElement(je,{name:"reset",steps:st})},st=[{selector:"",content:"Hello there! It seems like you have seen all the hackers' profiles that have registered so far. So now, there are three things you can do."},{selector:".reset-button",content:"If you click on this button, all the profiles that you swiped left on will be available to you again."},{selector:".mark-not-visibile-button",content:"If you have already found a team for the hackathon, you can click on this button to mark your profile as not visible, so that you don't get any further matches."},{selector:".wait-text",content:"Hackers will keep on flowing into Lattice until the day of the hackathon, so you can simply wait for more hackers to join Lattice."}],ut=a(54),mt=a(119),pt=(a(172),function(e){var t=e.i,a=e.x,n=e.y,c=e.rot,o=e.scale,l=e.trans,i=e.bind,s=e.data[t],u=s.skills,m=s.name,p=s.idea,d=s.lookingFor,f=[u.slice(0,3),u.slice(3,6)];return r.a.createElement(ut.a.div,{key:t,style:{transform:Object(ut.b)([a,n],(function(e,t){return"translate3d(".concat(e,"px,").concat(t,"px,0)")}))}},r.a.createElement(ut.a.div,Object.assign({},i(t),{style:{transform:Object(ut.b)([c,o],l),boxShadow:Object(ut.b)([a],(function(e){if(e>-5&&e<5)return null;var t=Math.abs(e)/300,a=e>0?"rgba(0, 255, 0, ".concat(t,")"):"rgba(255, 0, 0, ".concat(t,")");return"".concat(1.5*e,"px 0 80px -80px ").concat(a," inset")}))}}),r.a.createElement("div",{className:"font-opensans hacker-profile-card",style:{textAlign:"center"}},r.a.createElement("h2",{className:"name"},m),r.a.createElement("h3",null,"Project Idea"),r.a.createElement("div",{style:{marginTop:"-5px",marginLeft:"15px",marginRight:"15px",marginBottom:"35px",borderRadius:"10px",paddingBottom:"0px"}},r.a.createElement("p",{style:{fontSize:"13px"}},p)),r.a.createElement("h3",null,"Offering"),f.map((function(e,t){return!!e.length&&r.a.createElement("div",{key:t,style:{padding:"25px",paddingBottom:"10px",marginTop:"-45px",marginLeft:"15px",marginRight:"15px",display:"flex",borderRadius:"10px"}},e.map((function(e){return r.a.createElement("i",{key:e.title,className:e.icon,style:{padding:"10px",fontSize:"50px"}})})))})),r.a.createElement("h3",null,"Looking For"),r.a.createElement("div",{style:{padding:"25px",marginTop:"-45px",marginLeft:"15px",marginRight:"15px",display:"flex",borderRadius:"10px"}},d.map((function(e){return r.a.createElement("i",{key:e.title,className:e.icon,style:{padding:"10px",fontSize:"50px"}})}))))))}),dt=(a(173),function(e,t){return"perspective(1500px) rotateX(10deg) rotateY(".concat(e/10,"deg) rotateZ(").concat(e,"deg) scale(").concat(t,")")});var ft=function(e){var t=e.data,a=F().getProfiles,c=z().swipeProfile,o=Object(n.useState)((function(){return new Set})),l=Object(u.a)(o,1)[0],m=Object(ut.c)(t.length,(function(e){return Object(q.a)(Object(q.a)({},function(e){return{x:0,y:-3*e,scale:1,rot:10*Math.random()-5,delay:100*e}}(e)),{},{from:{rot:0,scale:1.5,y:-1e3}})})),p=Object(u.a)(m,2),d=p[0],f=p[1],h=function(){var e=Object(s.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t,1===a);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),v=function(){console.log("onFinish: End of cards"),a()},b=Object(mt.a)((function(e){var a,n=Object(u.a)(e.args,1)[0],r=e.down,c=Object(u.a)(e.delta,1)[0],o=(e.distance,Object(u.a)(e.direction,1)[0]),i=e.velocity,s=o<0?-1:1,m=null;(!r&&i>.2&&(m=h(t[n],s).then((function(){return console.log("swiped")})),l.add(n)),f((function(e){if(n===e){var t=l.has(n);return{x:t?(200+window.innerWidth)*s:r?c:0,rot:c/100+(t?10*s*i:0),scale:r?1.1:1,delay:void 0,config:{friction:50,tension:r?800:t?200:500}}}})),r||l.size!==t.length)||(null===(a=m)||void 0===a||a.then(v))}));return r.a.createElement("div",{className:"deck",style:{position:"fixed"}},d.map((function(e,a){var n=e.x,c=e.y,o=e.rot,l=e.scale;return r.a.createElement(pt,{key:a,i:a,x:n,y:c,rot:o,scale:l,trans:dt,data:t,bind:b})})))},ht=function(e){var t=e.show,a=e.onSuccess,n=e.onClose;return r.a.createElement("div",null,r.a.createElement(pe.a,{open:t,onClose:n},r.a.createElement(he.a,null,"Are you sure"),r.a.createElement(fe.a,null,r.a.createElement(be.a,null,"Reset all the negative swipes?")),r.a.createElement(de.a,null,r.a.createElement(oe.a,{onClick:n,color:"primary"},"Cancel"),r.a.createElement(De,{onClick:a,color:"primary"},"Yes"))))},vt=function(e){var t=e.show,a=e.onClose;return r.a.createElement("div",null,r.a.createElement(pe.a,{open:t,onClose:a},r.a.createElement(he.a,null,"Success"),r.a.createElement(fe.a,null,r.a.createElement(be.a,null,"All the negative swipes have been reset.")),r.a.createElement(de.a,null,r.a.createElement(oe.a,{onClick:a,color:"primary"},"Close"))))},bt=function(e){var t=e.show,a=e.onSuccess,n=e.onClose;return r.a.createElement("div",null,r.a.createElement(pe.a,{open:t,onClose:n},r.a.createElement(he.a,null,"Are you sure"),r.a.createElement(fe.a,null,r.a.createElement(be.a,null,"Mark you profile not visible?")),r.a.createElement(de.a,null,r.a.createElement(oe.a,{onClick:n,color:"primary"},"Cancel"),r.a.createElement(De,{onClick:a,color:"primary"},"Yes"))))},Et=function(e){var t=e.show,a=e.onClose;return r.a.createElement("div",null,r.a.createElement(pe.a,{open:t,onClose:a},r.a.createElement(he.a,null,"Success"),r.a.createElement(fe.a,null,r.a.createElement(be.a,null,"Your profile is now not visible.")),r.a.createElement(de.a,null,r.a.createElement(oe.a,{onClick:a,color:"primary"},"Close"))))},gt=function(){var e=S(),t=F(),a=Object(n.useState)(),c=Object(u.a)(a,2),o=c[0],l=c[1],i=e.profile,s=t.isLoading,m=t.skills,p=t.profiles;return Object(n.useEffect)((function(){if(m.length){var e=p.map((function(e){var t=m.filter((function(t){var a;return null===e||void 0===e||null===(a=e.skills)||void 0===a?void 0:a.includes(t.title)})),a=m.filter((function(t){var a;return null===e||void 0===e||null===(a=e.lookingFor)||void 0===a?void 0:a.includes(t.title)}));return Object(q.a)(Object(q.a)({},e),{},{skills:t,lookingFor:a})}));l(e)}}),[p,m]),r.a.createElement(r.a.Fragment,null,r.a.createElement(yt,null),r.a.createElement(kt,null),r.a.createElement(xt,null),r.a.createElement(Ot,null),(null===i||void 0===i?void 0:i.visible)&&!s&&!!(null===o||void 0===o?void 0:o.length)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ft,{data:o}),r.a.createElement(ot,null)))};function wt(e){var t=e.children;return r.a.createElement(re.a,{className:"nav-bar-margin"},r.a.createElement("div",{className:"bg-white mv3 mv5-ns pa3 ph5-ns br3"},t))}function kt(){var e=S(),t=e.isLoading,a=e.failedToLoad,n=e.profile;return t||a?null:n.started?n.completed?n.visible?null:r.a.createElement(wt,null,'Welcome back! Mark your profile "visible" from your ',r.a.createElement(K.b,{to:"/profile"},"profile page")," to start searching for potential teammates!"):r.a.createElement(wt,null,"Welcome back! Head over to your ",r.a.createElement(K.b,{to:"/profile/edit"},"profile page")," to complete your profile and start searching for potential teammates!"):r.a.createElement(wt,null,"Welcome! Let's get you set up. Head over to your ",r.a.createElement(K.b,{to:"/profile/edit"},"profile page")," to get started.")}function yt(){var e=S(),t=F();return e.isLoading?r.a.createElement(wt,null,"Fetching your profile... ",r.a.createElement("br",null)," ",r.a.createElement(le,null)):t.isLoading?r.a.createElement(wt,null,"Finding the best hackers for you... ",r.a.createElement("br",null)," ",r.a.createElement(le,null)):null}function xt(){var e=S(),t=e.profile,a=e.toggleVisibility,n=F(),c=n.isLoading,o=n.profiles,l=z().reset,u=ue(),m=ue(),p=ue(),d=ue(),f=function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:u.dismiss(),m.open();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:p.dismiss(),d.open();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return!(null===t||void 0===t?void 0:t.visible)||c||o.length?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(wt,null,r.a.createElement("p",null,"That's everybody! If you still haven't found your teammates, you can reset all your left swipes and start over."),r.a.createElement(oe.a,{className:"reset-button",variant:"contained",color:"primary",onClick:u.open},"Reset"),r.a.createElement("p",null,"Or if you have already found your teammates, you can mark your profile as not visible."),r.a.createElement(oe.a,{className:"mark-not-visibile-button",variant:"contained",color:"primary",onClick:p.open},"Mark not visible"),r.a.createElement("p",{className:"wait-text"},"Or you can just wait for more people to join Lattice!"),r.a.createElement(it,null)),r.a.createElement(ht,{show:u.show,onClose:u.dismiss,onSuccess:f}),r.a.createElement(vt,{show:m.show,onClose:m.dismiss}),r.a.createElement(bt,{show:p.show,onClose:p.dismiss,onSuccess:h}),r.a.createElement(Et,{show:d.show,onClose:d.dismiss}))}function Ot(){var e=S(),t=F();return e.failedToLoad?r.a.createElement(wt,null,"There was an error fetching your profile ",r.a.createElement("br",null),r.a.createElement(oe.a,{variant:"contained",color:"primary",onClick:e.getProfile},"Retry")):t.failedToLoad?r.a.createElement(wt,null,"There was an error fetching hackers ",r.a.createElement("br",null),r.a.createElement(oe.a,{variant:"contained",color:"primary",onClick:t.getProfiles},"Retry")):null}var jt=function(e){var t=e.show,a=e.onClose;return r.a.createElement("div",null,r.a.createElement(pe.a,{open:t,onClose:a},r.a.createElement(he.a,null,"Success"),r.a.createElement(fe.a,null,r.a.createElement(be.a,null,"Your password has been successfully reset. You can now login with the new password.")),r.a.createElement(de.a,null,r.a.createElement(oe.a,{onClick:a,color:"primary"},"Done"))))},Nt=function(){var e=Object(Q.g)().resetToken,t=x(),a=t.getResetInfo,c=t.resetPassword,o=ue(),l=Object(n.useState)(!0),m=Object(u.a)(l,2),p=m[0],d=m[1],f=Object(n.useState)(null),h=Object(u.a)(f,2),v=h[0],b=h[1],E=Object(n.useState)(""),g=Object(u.a)(E,2),w=g[0],k=g[1],y=Object(n.useState)({}),O=Object(u.a)(y,2),j=O[0],N=O[1],C=Object(n.useState)(!1),S=Object(u.a)(C,2),P=S[0],T=S[1],L=Object(n.useState)(null),I=Object(u.a)(L,2),R=I[0],F=I[1],A=Object(n.useState)(),W=Object(u.a)(A,2),z=W[0],q=W[1],B=function(){var t=Object(s.a)(i.a.mark((function t(a){var n,r,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a.preventDefault(),T(!0),N({}),n=a.target.email.value,r=a.target.password.value,l=a.target.confirmPassword.value,n){t.next=9;break}return t.abrupt("return",N({email:"Invalid email, please check the link provided"}));case 9:if(r){t.next=11;break}return t.abrupt("return",N({password:"Please provide a password"}));case 11:if(!(r.length<6)){t.next=13;break}return t.abrupt("return",N({password:"Password must be atleast 6 characters long"}));case 13:if(r===l){t.next=15;break}return t.abrupt("return",N({confirmPassword:"Passwords don't match"}));case 15:return t.next=17,c(e,r);case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),F(t.t0);case 22:return t.prev=22,T(!1),o.open(),t.finish(22);case 26:case"end":return t.stop()}}),t,null,[[0,19,22,26]])})));return function(e){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a(e);case 3:n=t.sent,k(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),b(t.t0);case 10:return t.prev=10,d(!1),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,7,10,13]])})))()}),[a,e]),r.a.createElement(re.a,null,r.a.createElement("form",{onSubmit:B},r.a.createElement("div",{className:"bg-white mv3 mv5-ns pa3 ph5-ns br3"},p?r.a.createElement("h1",{className:"title"},"Loading..."):v?r.a.createElement(ce.a,{color:"error.main",textAlign:"center"},r.a.createElement("h3",null,v.message)):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"title"},"Reset Password"),r.a.createElement(ce.a,{color:"error.main",textAlign:"center"},R&&R.message),r.a.createElement("div",{className:"mb4"},r.a.createElement(_.a,{container:!0,spacing:4,className:"mb3 lattice-form-band",alignItems:"flex-end"},r.a.createElement(_.a,{className:"lattice-icon",item:!0},r.a.createElement(te.a,null)),r.a.createElement("p",{className:"lattice-form-label mb0 font-gray"},"Email Address"),r.a.createElement(_.a,{item:!0,className:"lattice-form-input"},r.a.createElement($.a,{name:"email",type:"email",fullWidth:!0,variant:"outlined",value:w,disabled:!0}))),r.a.createElement(_.a,{container:!0,spacing:4,className:"lattice-form-band",alignItems:"flex-end"},r.a.createElement(_.a,{item:!0,className:"lattice-icon"},r.a.createElement(ne.a,null)),r.a.createElement("p",{className:"lattice-form-label mb0 font-gray"},"New Password"),r.a.createElement(_.a,{item:!0,className:"lattice-form-input"},r.a.createElement($.a,{name:"password",type:"password",fullWidth:!0,variant:"outlined"}),j.password&&r.a.createElement(ce.a,{color:"error.main"},j.password))),r.a.createElement(_.a,{container:!0,spacing:4,className:"lattice-form-band",alignItems:"flex-end"},r.a.createElement(_.a,{item:!0,className:"lattice-icon"},r.a.createElement(ne.a,null)),r.a.createElement("p",{className:"lattice-form-label mb0 font-gray"},"Confirm New Password"),r.a.createElement(_.a,{item:!0,className:"lattice-form-input"},r.a.createElement($.a,{name:"confirmPassword",type:"password",fullWidth:!0,variant:"outlined"}),j.confirmPassword&&r.a.createElement(ce.a,{color:"error.main"},j.confirmPassword))),r.a.createElement(oe.a,{type:"submit",variant:"contained",className:"center",color:"primary",disabled:P},P?r.a.createElement(le,{size:"25px"}):"Submit"))))),r.a.createElement(jt,{show:o.show,onClose:function(){o.dismiss(),q("/auth/login")}}),z&&r.a.createElement(Q.a,{to:z}))},Ct=function(e){var t=e.children;return x().token?r.a.createElement(Q.a,{to:"/"}):t},St=a(227),Pt=a(226),Tt=a(120),Lt=a.n(Tt),It=a(121),Rt=a.n(It),Ft=a(228);a(174);function At(e){e.navigate;var t=Object(Ue.a)(e,["navigate"]);return r.a.createElement(Pt.a,t)}var Wt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(St.a,{className:"bottomNavigation"},r.a.createElement(K.b,{to:"/notifications",className:"notifications-link"},r.a.createElement(At,{icon:r.a.createElement(zt,null)})),r.a.createElement(K.b,{to:"/",className:"home-link"},r.a.createElement(At,{icon:r.a.createElement(Lt.a,null)})),r.a.createElement(K.b,{to:"/profile",className:"profile-link"},r.a.createElement(At,{icon:r.a.createElement(Ae.a,null)}))))},zt=function(){var e=D(),t=e.failedToLoad,a=e.notifications,c=Object(n.useState)(0),o=Object(u.a)(c,2),l=o[0],i=o[1];return Object(n.useEffect)((function(){var e=a.filter((function(e){return!e.notification.read})).length;i(e)}),[a]),r.a.createElement(Ft.a,{badgeContent:t?"!":l,color:t?"error":"primary"},r.a.createElement(Rt.a,null))},qt=function(e){var t=e.children;return null===x().token?r.a.createElement(Q.a,{to:"/auth/login"}):r.a.createElement(r.a.Fragment,null,t,r.a.createElement(Wt,null))},Bt=function(){return r.a.createElement(K.a,{basename:"/lattice"},r.a.createElement(Q.d,null,r.a.createElement(Q.b,{path:"/auth/register/:registrantId"},r.a.createElement(Ct,null,r.a.createElement(se,null))),r.a.createElement(Q.b,{path:"/auth/login"},r.a.createElement(Ct,null,r.a.createElement(we,null))),r.a.createElement(Q.b,{path:"/auth/reset/:resetToken"},r.a.createElement(Ct,null,r.a.createElement(Nt,null))),r.a.createElement(Q.b,{path:"/notifications"},r.a.createElement(qt,null,r.a.createElement(Ie,null))),r.a.createElement(Q.b,{path:"/profile/edit"},r.a.createElement(qt,null,r.a.createElement(ct,null))),r.a.createElement(Q.b,{path:"/profile"},r.a.createElement(qt,null,r.a.createElement(Xe,null))),r.a.createElement(Q.b,{path:"/"},r.a.createElement(qt,null,r.a.createElement(gt,null)))))},Yt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(J,null,r.a.createElement(Bt,null)))},Mt=(a(175),function(){return r.a.createElement(Yt,null)}),Ut=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Dt(e,t){navigator.serviceWorker.register(e).then((function(e){return e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?t&&t.onUpdate&&t.onUpdate(e):t&&t.onSuccess&&t.onSuccess(e))})},e})).then((function(e){t&&t.onRegister&&t.onRegister(e)})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(Mt,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/lattice",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/lattice","/sw.js");Ut?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Dt(e,t)})).catch((function(){}))}(t,e),navigator.serviceWorker.ready.then((function(){}))):Dt(t,e)}))}}()}},[[140,1,2]]]);
//# sourceMappingURL=main.d9ed5b92.chunk.js.map